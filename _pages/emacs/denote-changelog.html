---
layout: page
title: 'Change Log of Denote'
subtitle: 'Simple notes for Emacs with an efficient file-naming scheme'
excerpt: "Denote is a simple note-taking tool, based on the idea that notes should follow a predictable and descriptive file-naming scheme."
permalink: /emacs/denote-changelog
---

<p>
This document contains the release notes for each tagged commit on the
project's main git repository: <a href="https://git.sr.ht/~protesilaos/denote">https://git.sr.ht/~protesilaos/denote</a>.
</p>

<p>
The newest release is at the top.  For further details, please consult
the manual: <a href="https://protesilaos.com/emacs/denote">https://protesilaos.com/emacs/denote</a>.
</p>

<div id="outline-container-h:80b9daaa-c3c8-4457-b109-966bb6a99832" class="outline-2">
<h2 id="h:80b9daaa-c3c8-4457-b109-966bb6a99832">Version 0.5.0 on 2022-08-10</h2>
<div class="outline-text-2" id="text-h:80b9daaa-c3c8-4457-b109-966bb6a99832">
<p>
The general theme of this release is to refine what we already offer.
As I explained in some discussions, Denote is feature-complete.  We can
always improve the code or add some ancillary function/command/variable,
though all the main ideas have already been implemented.  Additional
functionality can be provided by other packages: I remain at the
disposal of anyone willing to write such a package.
</p>

<p>
The present release covers more than 150 commits since version 0.4.0 on
2022-07-25.
</p>

<p>
All release notes: <a href="https://protesilaos.com/emacs/denote-changelog">https://protesilaos.com/emacs/denote-changelog</a>.
</p>
</div>

<div id="outline-container-h:0878125f-8392-48e6-aeff-1469eb1e18fc" class="outline-3">
<h3 id="h:0878125f-8392-48e6-aeff-1469eb1e18fc">Templates for new notes</h3>
<div class="outline-text-3" id="text-h:0878125f-8392-48e6-aeff-1469eb1e18fc">
<p>
We now provide the <code>denote-templates</code> user option.  A "template" is
arbitrary text that Denote will add to a newly created note right below
the front matter.
</p>

<p>
Templates are expressed as a <code>(KEY . STRING)</code> association.
</p>

<ul class="org-ul">
<li>The <code>KEY</code> is the name which identifies the template.  It is an
arbitrary symbol, such as <code>report</code>, <code>memo</code>, <code>statement</code>.</li>

<li>The <code>STRING</code> is ordinary text that Denote will insert as-is.  It can
contain newline characters to add spacing.  The manual of Denote
contains examples on how to use the <code>concat</code> function, beside writing
a generic string:
<a href="https://protesilaos.com/emacs/denote#h:f635a490-d29e-4608-9372-7bd13b34d56c">https://protesilaos.com/emacs/denote#h:f635a490-d29e-4608-9372-7bd13b34d56c</a>.</li>
</ul>

<p>
The user can choose a template either by invoking the new command
<code>denote-template</code> or by changing the user option <code>denote-prompts</code> to
always prompt for a template when calling the <code>denote</code> command.
</p>

<p>
Thanks to Jean-Philippe Gagné Guay for refinements to this facility.
Done in pull request 77 on the GitHub mirror:
<a href="https://github.com/protesilaos/denote/pull/77">https://github.com/protesilaos/denote/pull/77</a>.
</p>

<p>
[ Jean-Philippe has assigned copyright to the Free Software Foundation. ]
</p>
</div>
</div>

<div id="outline-container-h:17688b79-cb1b-4a59-831e-fbf2a81245d3" class="outline-3">
<h3 id="h:17688b79-cb1b-4a59-831e-fbf2a81245d3">Revised format for Org <code>#+filetags</code> entry</h3>
<div class="outline-text-3" id="text-h:17688b79-cb1b-4a59-831e-fbf2a81245d3">
<p>
Denote used to format tags in Org files by separating them with two
spaces:
</p>

<pre class="example" id="org7cf5a49">
#+filetags:  tag1  tag2
</pre>

<p>
While this worked for some obvious use-cases, it is not supported by
Org.  The Org documentation stipulates that tags be separated by the
colon sign.  The above would then be written thus:
</p>

<pre class="example" id="orgfa9a31b">
#+filetags:  :tag1:tag2:
</pre>

<p>
Denote now conforms with Org's specifications.  To help users update
their existing notes, we provide the <code>denote-migrate-old-org-filetags</code>
command.  It will perform the conversion in all Org files that had the
old notation.  As with all Denote operations that rewrite file contents,
it DOES NOT SAVE BUFFERS.  The user is expected to review the changes,
such as by using <code>diff-buffer-with-file</code>.  Multiple buffers can be saved
with <code>save-some-buffers</code> (check its doc string).
</p>

<p>
This command is provided for the convenience of the user.  It shall be
deprecated and eventually removed from future versions of Denote.
</p>

<p>
If you need help with any of this, please do not hesitate to contact me
either in private or in one of Denote's official channels (mailing list,
GitHub/GitLab mirror).
</p>

<p>
Thanks to Alan Schmitt for bringing this matter to my attention:
<a href="https://lists.sr.ht/~protesilaos/denote/%3C871qu0jw5l.fsf%40protesilaos.com%3E">https://lists.sr.ht/~protesilaos/denote/%3C871qu0jw5l.fsf%40protesilaos.com%3E</a>.
Also thanks to Jean-Philippe Gagné Guay for commenting on it as it
helped me decide to include the command in <code>denote.el</code>:
<a href="https://github.com/protesilaos/denote/pull/83#issuecomment-1210167133">https://github.com/protesilaos/denote/pull/83#issuecomment-1210167133</a>.
</p>
</div>
</div>

<div id="outline-container-h:205a09cf-0159-425e-a6b3-41700fa3ad31" class="outline-3">
<h3 id="h:205a09cf-0159-425e-a6b3-41700fa3ad31">Revised format for Markdown+YAML <code>tags:</code> entry</h3>
<div class="outline-text-3" id="text-h:205a09cf-0159-425e-a6b3-41700fa3ad31">
<p>
This is the same idea as above.  Before, we were making the mistake of
using incorrect YAML notation:
</p>

<div class="org-src-container">
<pre class="src src-yaml">tags:  tag1  tag2
</pre>
</div>

<p>
Now we do:
</p>

<div class="org-src-container">
<pre class="src src-yaml">tags:  ["tag1", "tag2"]
</pre>
</div>

<p>
This is how the TOML variant always worked.
</p>

<p>
For the user's convenience, we provide a command to migrate from the old
to the new syntax: <code>denote-migrate-old-markdown-yaml-tags</code>.
</p>
</div>
</div>

<div id="outline-container-h:15ecb4e8-d1ce-4e42-b74d-a3a046d93220" class="outline-3">
<h3 id="h:15ecb4e8-d1ce-4e42-b74d-a3a046d93220">Changes to file renaming and front matter rewriting</h3>
<div class="outline-text-3" id="text-h:15ecb4e8-d1ce-4e42-b74d-a3a046d93220">
<p>
Denote adds "front matter" to newly created notes which includes data
such as the title and keywords/tags of the document.  Strictly speaking,
the front matter is not required by Denote.  It is provided for the
user's convenience, such as for readability or if they want to use the
note with other programs (e.g. Org export, a blog with Hugo/Jekyll,
&#x2026;).
</p>

<p>
Denote provides commands which help the user rename their notes, by
changing the file name's <code>TITLE</code> and/or <code>KEYWORDS</code> components (per
Denote's file-naming scheme).  These commands also operate on the front
matter to keep the data between file name and file contents in sync
(again, for the user's convenience).
</p>

<p>
For this release we have consolidated and refined our offerings in order
to improve their ergonomics.  All changes are the result of fruitful
discussions on the mailing list and the issue tracker of the GitHub
mirror:
</p>

<ul class="org-ul">
<li><a href="https://lists.sr.ht/~protesilaos/denote/%3C87k081l6vw.fsf%40silverstone.mail-host-address-is-not-set%3E">https://lists.sr.ht/~protesilaos/denote/%3C87k081l6vw.fsf%40silverstone.mail-host-address-is-not-set%3E</a></li>
<li><a href="https://lists.sr.ht/~protesilaos/denote/%3C878rogw5kk.fsf%40protesilaos.com%3E">https://lists.sr.ht/~protesilaos/denote/%3C878rogw5kk.fsf%40protesilaos.com%3E</a></li>
<li><a href="https://lists.sr.ht/~protesilaos/denote/%3C87fsiljv1s.fsf%40hu.mail-host-address-is-not-set%3E">https://lists.sr.ht/~protesilaos/denote/%3C87fsiljv1s.fsf%40hu.mail-host-address-is-not-set%3E</a></li>
<li><a href="https://lists.sr.ht/~protesilaos/denote/%3C87r122afe3.fsf%40hu.mail-host-address-is-not-set%3E">https://lists.sr.ht/~protesilaos/denote/%3C87r122afe3.fsf%40hu.mail-host-address-is-not-set%3E</a></li>
<li><a href="https://github.com/protesilaos/denote/issues/74">https://github.com/protesilaos/denote/issues/74</a></li>
</ul>

<p>
Thanks to (A-Z) Hanspeter Gisler, Jean-Philippe Gagné Guay, and Peter
Prevos for their participation.
</p>

<p>
Also thanks to Jean-Philippe Gagné Guay for relevant code contributions
(please consult the Git log for the minutiae):
</p>

<ul class="org-ul">
<li><a href="https://github.com/protesilaos/denote/pull/66">https://github.com/protesilaos/denote/pull/66</a></li>
<li><a href="https://github.com/protesilaos/denote/pull/67">https://github.com/protesilaos/denote/pull/67</a></li>
<li><a href="https://github.com/protesilaos/denote/pull/69">https://github.com/protesilaos/denote/pull/69</a></li>
<li><a href="https://github.com/protesilaos/denote/pull/75">https://github.com/protesilaos/denote/pull/75</a></li>
<li><a href="https://github.com/protesilaos/denote/pull/76">https://github.com/protesilaos/denote/pull/76</a></li>
</ul>
</div>

<div id="outline-container-h:1d695e54-1481-42dd-916b-c0542c48aa6f" class="outline-4">
<h4 id="h:1d695e54-1481-42dd-916b-c0542c48aa6f">Renaming a single file</h4>
<div class="outline-text-4" id="text-h:1d695e54-1481-42dd-916b-c0542c48aa6f">
<p>
The commands <code>denote-dired-rename-file-and-add-front-matter</code> and
<code>denote-dired-rename-file</code> are deprecated and superseded by the new
<code>denote-rename-file</code>.  Please update any key bindings in your setup.
</p>

<p>
The difference between the old commands and the new <code>denote-rename-file</code>
is that the latter will now insert front matter to supported file types
(per <code>denote-file-type</code>) if they have none.  This basically means that,
e.g., renaming a generic Org/Markdown/Plain text file with
<code>denote-rename-file</code> will update its file name to comply with Denote's
file-naming scheme and also add the appropriate front matter (it
"converts" it to a Denote note).  If front matter exists, this command
will rewrite it to reflect the changes to the file name's <code>TITLE</code> and/or
<code>KEYWORDS</code>.
</p>

<p>
Consult the manual for the details:
<a href="https://protesilaos.com/emacs/denote#h:7cc9e000-806a-48da-945c-711bbc7426b0">https://protesilaos.com/emacs/denote#h:7cc9e000-806a-48da-945c-711bbc7426b0</a>.
</p>

<p>
Or, if the new version of the GNU ELPA package is installed, evaluate:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(info "(denote) Rename a single file")
</pre>
</div>

<p>
The user option <code>denote-dired-rename-expert</code> is obsolete.  Denote always
asks for confirmation when renaming a single file.  This is because the
user can rely on batch-renaming commands which ask for confirmation only
once per batch.
</p>
</div>
</div>

<div id="outline-container-h:82455fb4-576b-4753-af66-ac48fd158327" class="outline-4">
<h4 id="h:82455fb4-576b-4753-af66-ac48fd158327">Renaming multiple files at once</h4>
<div class="outline-text-4" id="text-h:82455fb4-576b-4753-af66-ac48fd158327">
<p>
The command <code>denote-dired-rename-marked-files-and-add-front-matter</code> is
deprecated and its functionality is absorbed by the existing
<code>denote-dired-rename-marked-files</code> command.  The deprecated command was
used to insert front matter to supported file types (per
<code>denote-file-type</code>) that had none.  We now handle this internally, thus
streamlining the experience for the user.
</p>

<p>
Refer to the manual for the details:
<a href="https://protesilaos.com/emacs/denote#h:1b6b2c78-42f0-45b8-9ef0-6de21a8b2cde">https://protesilaos.com/emacs/denote#h:1b6b2c78-42f0-45b8-9ef0-6de21a8b2cde</a>
</p>

<p>
Assuming the latest Info manual is installed, evaluate:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(info "(denote) Rename multiple files at once")
</pre>
</div>
</div>
</div>

<div id="outline-container-h:d913e369-9325-46c4-985b-cf5b3e35372b" class="outline-4">
<h4 id="h:d913e369-9325-46c4-985b-cf5b3e35372b">Renaming a single file based on its front matter</h4>
<div class="outline-text-4" id="text-h:d913e369-9325-46c4-985b-cf5b3e35372b">
<p>
Introduced the <code>denote-rename-file-using-front-matter</code> command.  This is
new functionality we provide which uses the front matter as input to
perform a rename of the file.  The aforementioned offerings prompt for
input via the minibuffer and propagate the changes firstly to the file
name and subsequently to the front matter.  Whereas with the command
<code>denote-rename-file-using-front-matter</code>, the user can edit the front
matter manually and then invoke the command to pass the changes to the
file name, subject to a confirmation.  Relevant entries are the title
and tags/filetags (depending on the file type).  The date and the
identifier are not pertinent.  Identifiers in file names are NEVER
rewritten by Denote.
</p>

<p>
Consult the manual:
<a href="https://protesilaos.com/emacs/denote#h:3ab08ff4-81fa-4d24-99cb-79f97c13a373">https://protesilaos.com/emacs/denote#h:3ab08ff4-81fa-4d24-99cb-79f97c13a373</a>.
</p>

<p>
With the latest package, evaluate:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(info "(denote) Rename a single file based on its front matter")
</pre>
</div>
</div>
</div>

<div id="outline-container-h:4efc6c14-fd71-4bd8-8bb1-e8e720b98eff" class="outline-4">
<h4 id="h:4efc6c14-fd71-4bd8-8bb1-e8e720b98eff">Renaming multiple files based on their front matter</h4>
<div class="outline-text-4" id="text-h:4efc6c14-fd71-4bd8-8bb1-e8e720b98eff">
<p>
The command <code>denote-dired-rename-marked-files-using-front-matter</code>
completes the set of features we provide for syncing between file name
and front matter.  It applies to all marked files in a Dired buffer.
</p>

<p>
Read the manual to understand how the command works and what it does
exactly: <a href="https://protesilaos.com/emacs/denote#h:ea5673cd-e6ca-4c42-a066-07dc6c9d57f8">https://protesilaos.com/emacs/denote#h:ea5673cd-e6ca-4c42-a066-07dc6c9d57f8</a>.
</p>

<p>
Or evaluate:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(info "(denote) Rename multiple files based on their front matter")
</pre>
</div>
</div>
</div>

<div id="outline-container-h:32a103be-71a2-48e4-a18e-7727c04545ed" class="outline-4">
<h4 id="h:32a103be-71a2-48e4-a18e-7727c04545ed">Add missing front matter on demand</h4>
<div class="outline-text-4" id="text-h:32a103be-71a2-48e4-a18e-7727c04545ed">
<p>
Sometimes the user may have incomplete front matter, perhaps due to a
mistake that was saved on disk.  The command <code>denote-add-front-matter</code>
appends a new front matter block to the current note.
</p>

<p>
Read:
<a href="https://protesilaos.com/emacs/denote#h:54b48277-e0e5-4188-ad54-ef3db3b7e772">https://protesilaos.com/emacs/denote#h:54b48277-e0e5-4188-ad54-ef3db3b7e772</a>
</p>

<p>
Or evaluate:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(info "(denote) Regenerate front matter")
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-h:507fb46c-a2e9-48a7-8cd2-53c5fc73394d" class="outline-3">
<h3 id="h:507fb46c-a2e9-48a7-8cd2-53c5fc73394d">Faces for Denote links</h3>
<div class="outline-text-3" id="text-h:507fb46c-a2e9-48a7-8cd2-53c5fc73394d">
<p>
We provide the <code>denote-faces-link</code> and the <code>denote-faces-broken-link</code>.
The latter is only relevant for Org, as Emacs' standard button mechanism
does not have a way to apply a face dynamically.
</p>

<p>
This is a change for themes/tinkerers who need to differentiate
<code>denote:</code> links from other links.  Otherwise, the presentation is the
same as before.
</p>

<p>
Thanks to Peter Prevos for asking about it on the mailing list:
<a href="https://lists.sr.ht/~protesilaos/denote/%3C03618bb20d3eaba78c32cd0cb63bfc71%40prevos.net%3E">https://lists.sr.ht/~protesilaos/denote/%3C03618bb20d3eaba78c32cd0cb63bfc71%40prevos.net%3E</a>.
</p>
</div>
</div>

<div id="outline-container-h:efa3049e-f1fa-48ff-af7d-d16edc677704" class="outline-3">
<h3 id="h:efa3049e-f1fa-48ff-af7d-d16edc677704">Use of XDG path in <code>denote-directory</code></h3>
<div class="outline-text-3" id="text-h:efa3049e-f1fa-48ff-af7d-d16edc677704">
<p>
The default value of the <code>denote-directory</code> user option used to be
<code>~/Documents/notes</code> (subject to some conversion via Elisp).  Denote now
conforms with the freedesktop.org specifications by using the <code>XDG</code>
directory for <code>DOCUMENTS</code> instead of <code>~/Documents</code>:
<a href="https://www.freedesktop.org/wiki/Software/xdg-user-dirs/">https://www.freedesktop.org/wiki/Software/xdg-user-dirs/</a>.
</p>

<p>
Users who already bind the <code>denote-directory</code> are not affected by this
change.  Same for those who do not tinker with <code>XDG</code> environment
variables and/or do not use some exotic setup.
</p>

<p>
Thanks to Philip Kaludercic for the patch:
<a href="https://lists.sr.ht/~protesilaos/denote/patches/34561#%3C20220809115824.43089-1-philipk@posteo.net%3E">https://lists.sr.ht/~protesilaos/denote/patches/34561#%3C20220809115824.43089-1-philipk@posteo.net%3E</a>
</p>
</div>
</div>

<div id="outline-container-h:feb9a0ed-ba15-486e-ae11-5b222b00bc31" class="outline-3">
<h3 id="h:feb9a0ed-ba15-486e-ae11-5b222b00bc31">Bespoke major-mode for the backlinks' buffer</h3>
<div class="outline-text-3" id="text-h:feb9a0ed-ba15-486e-ae11-5b222b00bc31">
<p>
The backlinks' buffer now uses the <code>denote-backlink-mode</code> instead of the
generic <code>special-mode</code>.  The former derives from the latter.  It binds
keys to move between links with <code>n</code> (next) and <code>p</code> (previous).  These
are stored in the <code>denote-backlink-mode-map</code> (use <code>M-x describe-mode</code>
(<code>C-h m</code>) in an unfamiliar buffer to learn more about it).
</p>

<p>
Thanks to Philip Kaludercic for the patch:
<a href="https://lists.sr.ht/~protesilaos/denote/patches/34561#%3C20220809115824.43089-2-philipk@posteo.net%3E">https://lists.sr.ht/~protesilaos/denote/patches/34561#%3C20220809115824.43089-2-philipk@posteo.net%3E</a>
</p>
</div>
</div>

<div id="outline-container-h:80217a39-86b8-4310-b7c4-dcc14e0b98fd" class="outline-3">
<h3 id="h:80217a39-86b8-4310-b7c4-dcc14e0b98fd">Changes to the manual</h3>
<div class="outline-text-3" id="text-h:80217a39-86b8-4310-b7c4-dcc14e0b98fd">
<ul class="org-ul">
<li>Documented all of the aforementioned.  Improved how information is
presented and, generally, iterated on an already comprehensive
document.</li>

<li><p>
Introduced a node which explains how to tweak the front matter:
<a href="https://protesilaos.com/emacs/denote#h:7f918854-5ed4-4139-821f-8ee9ba06ad15">https://protesilaos.com/emacs/denote#h:7f918854-5ed4-4139-821f-8ee9ba06ad15</a>.
Or evaluate:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">  (info "(denote) Change the front matter format")
</pre>
</div></li>

<li><p>
Updated the reference to <code>consult-notes</code>.  This is a package that uses
the <code>consult</code> interface to provide access and search facilities for
notes.  It can integrate with Denote.  Thanks to Colin McLear for the
change in pull request 70 on the GitHub mirror:
<a href="https://github.com/protesilaos/denote/pull/70">https://github.com/protesilaos/denote/pull/70</a>.
</p>

<p>
[ The change is below the ~15 line threshold and thus does not require
  copyright assignment to the Free Software Foundation. ]
</p></li>
</ul>
</div>
</div>

<div id="outline-container-h:5d09d0af-3c25-4419-8448-90b8e1adab0d" class="outline-3">
<h3 id="h:5d09d0af-3c25-4419-8448-90b8e1adab0d">Internal restructuring</h3>
<div class="outline-text-3" id="text-h:5d09d0af-3c25-4419-8448-90b8e1adab0d">
<ul class="org-ul">
<li><p>
All Denote code is consolidated in <code>denote.el</code>.  We no longer maintain
separate files like <code>denote-link.el</code>, <code>denote-dired.el</code>, etc.  Users
who had <code>require</code> calls to such libraries must remove them and only
keep:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">  (require 'denote)
</pre>
</div></li>

<li><p>
User options that have an entry in the manual will now provide a link
to it via their Help buffer and/or the Custom UI.  This is done by
adding the <code>:link</code> attribute to their declaration.
</p>

<p>
Furthermore, user options and faces now specify the version of Denote
that last affected their value (e.g. <code>denote-directory</code>, which was
mentioned above for the XDG spec, now informs the user that it changed
for version <code>0.5.0</code>).
</p>

<p>
[ I learnt these by developing the <code>modus-themes</code>. ]
</p></li>

<li>The variables <code>denote-last-title</code>, <code>denote-last-keywords</code>,
<code>denote-last-buffer</code>, and <code>denote-last-front-matter</code> are all obsolete.
These were used prior to version <code>0.1.0</code> to help with development but
are now deemed surplus to requirements.</li>

<li>Lots of changes were made to private functions, variables, doc
strings, and comments, in the interest of simplifying the code and/or
ensuring consistency in how operations are carried out.  Though
everything is the same for the end-user.</li>
</ul>

<p>
Thanks to Jean-Philippe Gagné Guay for the numerous contributions on the
GitHub mirror.  They are important for Denote, though the user does not
need to know what is happening internally (consult the Git log for the
details):
</p>

<ul class="org-ul">
<li><a href="https://github.com/protesilaos/denote/pull/65">https://github.com/protesilaos/denote/pull/65</a></li>
<li><a href="https://github.com/protesilaos/denote/pull/72">https://github.com/protesilaos/denote/pull/72</a></li>
<li><a href="https://github.com/protesilaos/denote/pull/73">https://github.com/protesilaos/denote/pull/73</a></li>
<li><a href="https://github.com/protesilaos/denote/pull/78">https://github.com/protesilaos/denote/pull/78</a></li>
<li><a href="https://github.com/protesilaos/denote/pull/80">https://github.com/protesilaos/denote/pull/80</a></li>
<li><a href="https://github.com/protesilaos/denote/pull/81">https://github.com/protesilaos/denote/pull/81</a></li>
<li><a href="https://github.com/protesilaos/denote/pull/82">https://github.com/protesilaos/denote/pull/82</a></li>
<li><a href="https://github.com/protesilaos/denote/pull/83">https://github.com/protesilaos/denote/pull/83</a></li>
</ul>
</div>
</div>

<div id="outline-container-h:79089c06-9e0c-49cc-9d53-a1a2fd72fb65" class="outline-3">
<h3 id="h:79089c06-9e0c-49cc-9d53-a1a2fd72fb65">Discussions</h3>
<div class="outline-text-3" id="text-h:79089c06-9e0c-49cc-9d53-a1a2fd72fb65">
</div>

<div id="outline-container-h:87e4556a-4864-4955-a98c-62b2e6a509c3" class="outline-4">
<h4 id="h:87e4556a-4864-4955-a98c-62b2e6a509c3">Encrypting Denote notes</h4>
<div class="outline-text-4" id="text-h:87e4556a-4864-4955-a98c-62b2e6a509c3">
<p>
Paul van Gelder asked about this on the mailing list.  I provided
guidelines on what can be done, though did not record anything in the
manual: I prefer to elicit more feedback from users.  The gist is that
Emacs already has all the requisite functionality, though encryption per
se is outside the scope of Denote:
<a href="https://lists.sr.ht/~protesilaos/denote/%3C1123434736.64290.1658954014673%40kpc.webmail.kpnmail.nl%3E">https://lists.sr.ht/~protesilaos/denote/%3C1123434736.64290.1658954014673%40kpc.webmail.kpnmail.nl%3E</a>.
</p>

<p>
Denote's relevant internal mechanisms will recognise files ending in
<code>.gpg</code> (e.g. for fontification in Dired).
</p>
</div>
</div>

<div id="outline-container-h:d94ee5e3-0a54-404c-b44b-34edc3703fbc" class="outline-4">
<h4 id="h:d94ee5e3-0a54-404c-b44b-34edc3703fbc">Visualise usage of Denote keywords</h4>
<div class="outline-text-4" id="text-h:d94ee5e3-0a54-404c-b44b-34edc3703fbc">
<p>
Peter Prevos shared a proof-of-concept way to visualise keywords in the
<code>denote-directory</code> and show usage statistics:
<a href="https://lists.sr.ht/~protesilaos/denote/%3Ce9e5d6ae85984b51067b47f4d8e134fa%40prevos.net%3E">https://lists.sr.ht/~protesilaos/denote/%3Ce9e5d6ae85984b51067b47f4d8e134fa%40prevos.net%3E</a>.
</p>

<p>
We do not include this information in the manual, as we wait for the
fully fledged code.  Though do give it a try if you are interested and,
perhaps, share your thoughts for Peter's consideration.
</p>
</div>
</div>

<div id="outline-container-h:0cbf504c-676c-436e-8ae8-e7115368e691" class="outline-4">
<h4 id="h:0cbf504c-676c-436e-8ae8-e7115368e691">Conflict between <code>denote-dired-mode</code> and <code>diredfl-mode</code></h4>
<div class="outline-text-4" id="text-h:0cbf504c-676c-436e-8ae8-e7115368e691">
<p>
Hilde Rhyne shared a workaround they have to disable <code>diredfl-mode</code> in
the buffers where <code>denote-dired-mode</code> is enabled.  The conflict between
the two is a known issue that is acknowledged in the manual:
<a href="https://lists.sr.ht/~protesilaos/denote/%3Cm0tu6q6bg0.fsf%40disroot.org%3E">https://lists.sr.ht/~protesilaos/denote/%3Cm0tu6q6bg0.fsf%40disroot.org%3E</a>.
</p>

<p>
I think we need a proper solution in the code we provide, so this
workaround is not mentioned in the manual.
</p>
</div>
</div>

<div id="outline-container-h:068108f4-a4fa-4ff8-be49-f1f10a862451" class="outline-4">
<h4 id="h:068108f4-a4fa-4ff8-be49-f1f10a862451">Why doesn't Denote provide a search facility?</h4>
<div class="outline-text-4" id="text-h:068108f4-a4fa-4ff8-be49-f1f10a862451">
<p>
There was a discussion started by Fourchaux, with the participation of
basaran and Andre0991 on the GitHub mirror:
<a href="https://github.com/protesilaos/denote/issues/71">https://github.com/protesilaos/denote/issues/71</a>.
</p>

<p>
The gist of my answer is that Denote does not need to provide such a
facility because notes are ordinary files: whatever the user already has
for them should apply to Denote.  If the user has nothing to search
through files, they anyhow need something that works outside the
confines of Denote: a <code>denote-SEARCH</code> command is not an adequate
solution.
</p>

<p>
Emacs has numerous built-in commands, such as <code>grep</code> (<code>lgrep</code> and
<code>rgrep</code>), <code>project-find-regexp</code>, <code>find-grep-dired</code>, <code>ibuffer-do-occur</code>,
&#x2026;  Furthermore, there are lots of high quality packages that have
their own wrappers or extensions for searching file contents, such as
the <code>ivy</code> and <code>helm</code> completion frameworks, as well as <code>consult</code> (the
commands <code>consult-grep</code> and <code>consult-ripgrep</code>), <code>consult-notes</code>, <code>rg</code>,
<code>deadgrep</code>, <code>deft</code>, and probably plenty more that do not come to mind
right now.
</p>

<p>
I strongly encourage the user to find a universal search solution to the
problem of searching file contents.
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-h:1c8098ee-089c-4511-bc6a-4140aab01321" class="outline-2">
<h2 id="h:1c8098ee-089c-4511-bc6a-4140aab01321">Version 0.4.0 on 2022-07-25</h2>
<div class="outline-text-2" id="text-h:1c8098ee-089c-4511-bc6a-4140aab01321">
<ul class="org-ul">
<li><p>
Defined the <code>denote-link-dired-marked-notes</code> command.  It lets the
user produce a typographic list of links to the note files that are
marked in Dired.  The list is written at point.  If there are multiple
buffers which visit Denote notes, the command first prompts with
minibuffer completion for one among them.
</p>

<p>
In terms of workflow, <code>denote-link-dired-marked-notes</code> complements the
<code>denote-link-add-links</code> command for those cases where it is easier to
select files than write an elegant regular expression.
</p></li>

<li><p>
Implemented the <code>denote-dired-rename-marked-files</code> command.  This
provides a much-requested facility to perform the familiar renaming
operation on a set of files.  In particular:
</p>

<ul class="org-ul">
<li>the file's existing file name is retained and becomes the <code>TITLE</code>
field, per Denote's file-naming scheme;</li>

<li>the <code>TITLE</code> is sluggified and downcased, per our conventions;</li>

<li>an identifier is prepended to the <code>TITLE</code>;</li>

<li>the file's extension is retained;</li>

<li>a prompt is asked once for the <code>KEYWORDS</code> field and the input is
applied to all file names;</li>

<li>if the file is recognised as a Denote note, the command rewrites its
front matter to include the new keywords.  A confirmation to carry
out this step is performed once at the outset.  Note that the
affected buffers are not saved.  The user can thus check them to
confirm that the new front matter does not cause any problems
(e.g. with the command <code>diff-buffer-with-file</code>).  Multiple buffers
can be saved with <code>save-some-buffers</code> (read its doc string).</li>
</ul>

<p>
Parts of <code>denote-dired-rename-marked-files</code> were added or refined over
a series of commits.  Consult the Git log for the minutia.  Thanks to
Jean-Philippe Gagné Guay for the relevant additions in pull requests
51 and 52 on the GitHub mirror:
</p>

<ul class="org-ul">
<li><a href="https://github.com/protesilaos/denote/pull/51">https://github.com/protesilaos/denote/pull/51</a></li>
<li><a href="https://github.com/protesilaos/denote/pull/52">https://github.com/protesilaos/denote/pull/52</a></li>
</ul>

<p>
Jean-Philippe has assigned copyright to the Free Software Foundation.
</p></li>

<li>Improved how the <code>denote-dired-rename-file</code> command rewrites front
matter.  Before, it would perform a replacement of the whole block,
which had the adverse effect of overwriting custom front matter
entries.  Now, it only targets the lines which hold the title and
keywords, leaving everything else intact.  Thanks to Peter Prevos for
reporting the problem and testing the solution to it in issue 60 on
the GitHub mirror: <a href="https://github.com/protesilaos/denote/issues/60">https://github.com/protesilaos/denote/issues/60</a>.</li>

<li><p>
Introduced the <code>denote-dired-rename-file-and-add-front-matter</code> command
that always prepends front matter to a file whose extension is among
the supported ones (per the user option <code>denote-file-type</code>).  This
differs from the standard <code>denote-dired-rename-file</code> command which
only rewrites the front matter's title and keywords if they exist.
</p>

<p>
In practice, <code>denote-dired-rename-file-and-add-front-matter</code> empowers
the user to convert a generic text file to a Denote note.
</p>

<p>
This command was originally added by Jean-Philippe Gagné Guay in pull
request 49 on the GitHub mirror and refined in subsequent commits:
<a href="https://github.com/protesilaos/denote/pull/49">https://github.com/protesilaos/denote/pull/49</a>.  Also read issue 48
where this idea was originally discussed:
<a href="https://github.com/protesilaos/denote/issues/48">https://github.com/protesilaos/denote/issues/48</a>.
</p></li>

<li>Added the <code>denote-dired-rename-marked-files-and-add-front-matters</code>
command, which is like the <code>denote-dired-rename-marked-files</code> but adds
front matter instead of rewriting existing one, just how the command
<code>denote-dired-rename-file-and-add-front-matter</code> does it (both are
mentioned above).  Thanks to Jean-Philippe Gagné Guay for the
refinements to it in pull request 53 on the GitHub mirror:
<a href="https://github.com/protesilaos/denote/pull/53">https://github.com/protesilaos/denote/pull/53</a>.</li>

<li>Wrote an interactive spec for <code>denote-link-buttonize-buffer</code>.  It can
now be invoked with <code>M-x</code> or a key binding, should the need arise.
This function is normally called via a hook and takes effect in plain
text as well as Markdown files.</li>

<li><p>
Extended the fontification rules so that file names with non-ASCII
characters are styled properly.  This issue was brought up on the
mailing list by Frank Ehmsen and was discussed with the participation
of Peter Prevos:
<a href="https://lists.sr.ht/~protesilaos/denote/%3C2273b3b1-344c-6c6e-3ab6-a227b6bc3721%40eh-is.de%3E">https://lists.sr.ht/~protesilaos/denote/%3C2273b3b1-344c-6c6e-3ab6-a227b6bc3721%40eh-is.de%3E</a>.
</p>

<p>
The same topic was raised at the same time on the GitHub mirror by
user hpgisler in issue 61:
<a href="https://github.com/protesilaos/denote/issues/61">https://github.com/protesilaos/denote/issues/61</a>.
</p>

<p>
After some discussion, we agreed on the right approach, which was
formalised by Peter Prevos as pull request 64 on the GitHub mirror:
<a href="https://github.com/protesilaos/denote/pull/64">https://github.com/protesilaos/denote/pull/64</a>.  The change is below
the ~15 line threshold and thus does not require copyright assignment
to the Free Software Foundation.
</p></li>

<li>Made the registration of the <code>denote:</code> custom Org hyperlink type
conditional on the availability of the <code>org</code> feature.  In other words,
those who do not use Org will not be loading this part of the code.
Thanks to Abin Simon for reporting the problem and for showing how
Elfeed handles this case.  This was done in issue 47 on the GitHub
mirror: <a href="https://github.com/protesilaos/denote/issues/47">https://github.com/protesilaos/denote/issues/47</a>.</li>

<li>Ensured that duplicate keywords are not produced by the relevant
prompt.  Thanks to user Taoufik for the contribution in pull request
50 on the GitHub mirror: <a href="https://github.com/protesilaos/denote/pull/50">https://github.com/protesilaos/denote/pull/50</a>.
The change is below the ~15 line threshold and thus does not require
copyright assignment to the Free Software Foundation.</li>

<li>Fixed a typo in the reference to the <code>crm-separator</code> in the manual.
David Wilson (System Crafters channel) spotted the error in a recent
live stream whose main topic was about Denote (thanks, by the way!):
<a href="https://www.youtube.com/watch?v=QcRY_rsX0yY">https://www.youtube.com/watch?v=QcRY_rsX0yY</a>.</li>

<li>Addressed an inconsistency in the command <code>denote-link-find-file</code>
where it would not recognise links without a title in their format
(those can be inserted by passing a prefix argument (<code>C-u</code> by default)
to the commands that insert links, such as <code>denote-link</code>).</li>

<li>Attached conditionality to the <code>denote</code> command's <code>SUBDIRECTORY</code>
argument, so that it does not create new file paths.  This is only
relevant for those who call <code>denote</code> from Lisp.  Interactive use is
the same as before.</li>

<li>Clarified that the user option <code>denote-org-capture-specifiers</code> can
accept arbitrary text in addition to the formatting specifiers that
Org's capture mechanism introduces.</li>

<li>Explained in the manual why <code>denote-org-capture-specifiers</code> is needed
instead of writing the capture template directly the way one normally
does.  The gist is that because our file names are derived dynamically
based on user input, we need to account for the sequence in which the
value of arguments is reified by <code>org-capture</code>.</li>

<li>Refactored how notes are prepared internally.  Thanks to Jean-Philippe
Gagné Guay for the contribution in pull request 55 on the GitHub
mirror: <a href="https://github.com/protesilaos/denote/pull/55">https://github.com/protesilaos/denote/pull/55</a>.</li>

<li><p>
Declared the <code>denote-punctuation-excluded-extra-regexp</code> variable which
is, for the time being, targeted at experienced users.  Its purpose is
to extend what we consider "illegal" punctuation for the file name.
Thanks to pRot0ta1p for the feedback in issue 57 over at the GitHub
mirror: <a href="https://github.com/protesilaos/denote/issues/57">https://github.com/protesilaos/denote/issues/57</a>.  Example
based on the input of pRot0ta1p:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">  (setq denote-punctuation-excluded-extra-regexp
        "[『』〖〗｛｝「」【】〔〕［］（）《》〈〉«»！＃￥％…＆＂＇＊，。；：、？—]*")
</pre>
</div>

<p>
The ideal is to make <code>denote--punctuation-regexp</code> work for all
scripts, but that may be unrealistic.
</p></li>

<li>Clarified what the manual means by "attachments" to notes.  Those are
for Org, if the user resorts to the relevant Org mechanisms.  Denote
does not do any of that.</li>

<li><p>
Revised the parsing of a date input as used in the <code>denote-date</code>
command or related.  The idea is to turn <code>2020-01-15</code> into something
like <code>2020-01-15 16:19</code> by using the current time, so that the hour
and minute component is not left to <code>00:00</code> when the user does not
specify it explicitly.
</p>

<p>
This reduces the burden on the user who would otherwise need to input
the time value in order to avoid the error of duplicate identifiers in
the scenario where the same date is used more than once.
</p>

<p>
The change also addresses a difference between Emacs 28 and Emacs 29
where the former does not read dates without a time component.
</p>

<p>
Thanks to Peter Prevos for the feedback in issue 58 over at the GitHub
mirror: <a href="https://github.com/protesilaos/denote/issues/58">https://github.com/protesilaos/denote/issues/58</a>.
</p></li>

<li>Fixed compilation warnings in Emacs 29 about the format of doc strings
that need to output a literal single quote.  Thanks to Kyle Meyer for
the patch, which was sent on the mailing list:
<a href="https://lists.sr.ht/~protesilaos/denote/patches/34117">https://lists.sr.ht/~protesilaos/denote/patches/34117</a>.</li>

<li>Fixed typo in the user option <code>denote-prompts</code> about the
<code>crm-separator</code>.  Thanks to Kyle Meyer for the patch, which was sent
on the mailing list:
<a href="https://lists.sr.ht/~protesilaos/denote/patches/34116">https://lists.sr.ht/~protesilaos/denote/patches/34116</a>.</li>

<li>Made the built-in <code>subr-x</code> library a runtime dependency, due to
complications with the <code>when-let*</code> form.  The problem was made
manifest in a renaming operation, though it was not about renaming per
se.  Thanks to hpgisler for reporting the problem in issue 62 and for
testing the proposed solution:
<a href="https://github.com/protesilaos/denote/issues/62">https://github.com/protesilaos/denote/issues/62</a>.</li>

<li>Streamlined the use of the <code>seq</code> library instead of <code>cl-lib</code>, as we
were already using the former more heavily and there was no need for
the latter.  Thanks to Philip Kaludercic for pointing this out on the
emacs-devel mailing list:
<a href="https://lists.gnu.org/archive/html/emacs-devel/2022-07/msg00838.html">https://lists.gnu.org/archive/html/emacs-devel/2022-07/msg00838.html</a>.</li>

<li>Added a generic <code>README.md</code> file to placate the Git forges.  Neither
SourceHut nor GitHub/GitLab are fully compliant with the Org markup we
use in <code>README.org</code> (we use Org because it is easy to generate the
Info manual and HTML pages out of it).  SourceHut will not render the
file at all, while the others render it but do not parse it properly.</li>

<li>Made several other internal tweaks and refinements in the interest of
robustness and/or clarity.</li>

<li>Rewrote all relevant documentation.</li>
</ul>
</div>

<div id="outline-container-h:0ac79968-a575-4380-addc-d58cc2b5f627" class="outline-3">
<h3 id="h:0ac79968-a575-4380-addc-d58cc2b5f627">Non-changes</h3>
<div class="outline-text-3" id="text-h:0ac79968-a575-4380-addc-d58cc2b5f627">
<p>
The following are not part of any changes that were made during this
release cycle, though they provide potentially interesting insight into
the workings of the project.
</p>

<dl class="org-dl">
<dt>Identifiers with milliseconds</dt><dd>Denote's identifier format extends up
to seconds.  This is the product of years of experimentation and is,
in my opinion, the best compromise between usability/readability and
precision.  If a user produces two notes within a fraction of a
second, then yes they will have duplicate identifiers.  In principle,
there is no reason not to address this potential problem, provided we
do not compromise on Denote's file-naming scheme (making the
identifier less readable is a compromise).  We shall see what the best
course of action is.  Thanks to Felipe Balbi and Jean-Philippe Gagné
Guay for the discussion thus far in issue 54 on the GitHub mirror:
<a href="https://github.com/protesilaos/denote/issues/54">https://github.com/protesilaos/denote/issues/54</a>.</dd>

<dt>Denote and evil-mode</dt><dd>Users of evil-mode do not have to worry about
Denote, as we do not define any key bindings.  The manual includes
sample configuration, which proposes some key bindings, but that is
the user's prerogative.  Thanks to Saša Janiška and Alan Schmitt for
their participation on the mailing list:
<a href="https://lists.sr.ht/~protesilaos/denote/%3C87czdxf1dz.fsf%40atmarama.ddns.net%3E">https://lists.sr.ht/~protesilaos/denote/%3C87czdxf1dz.fsf%40atmarama.ddns.net%3E</a>.</dd>

<dt>Denote and Citar</dt><dd>Peter Prevos started developing a package that
connects Denote with Citar: <a href="https://github.com/pprevos/denote-citar">https://github.com/pprevos/denote-citar</a>.
The idea is to use notes as part of one's bibliography.  Discussions
which include sample code on how to leverage <code>denote</code> from Lisp:

<ul class="org-ul">
<li><a href="https://lists.sr.ht/~protesilaos/denote/%3C6add8bc63cab0a557fa4b9919e025afc%40prevos.net%3E">https://lists.sr.ht/~protesilaos/denote/%3C6add8bc63cab0a557fa4b9919e025afc%40prevos.net%3E</a></li>
<li><a href="https://lists.sr.ht/~protesilaos/denote/%3C87r12d2w96.fsf%40protesilaos.com%3E">https://lists.sr.ht/~protesilaos/denote/%3C87r12d2w96.fsf%40protesilaos.com%3E</a></li>
<li><a href="https://lists.sr.ht/~protesilaos/denote/%3C87a69060q6.fsf%40protesilaos.com%3E">https://lists.sr.ht/~protesilaos/denote/%3C87a69060q6.fsf%40protesilaos.com%3E</a></li>
</ul></dd>

<dt>Denote and graph of connections</dt><dd>Saša Janiška asked whether Denote
will provide some way to visualise links between notes.  The answer is
negative.  Denote's scope is clearly delineated and its feature set is
largely complete (notwithstanding refinements to what we already
provide).  Peter Prevos is experimenting with some code that uses the
R language.  Any such facility will have to be implemented as a
separate package.  I remain at the disposal of anyone who needs help
with Denote's internals.  Thanks to the aforementioned fellows for
their participation on the mailing list:
<a href="https://lists.sr.ht/~protesilaos/denote/%3C878roleze1.fsf%40atmarama.ddns.net%3E">https://lists.sr.ht/~protesilaos/denote/%3C878roleze1.fsf%40atmarama.ddns.net%3E</a>.</dd>

<dt>Denote's scalability</dt><dd>There was a discussion whether Denote will
work well with very large sets of files.  The short answer is that it
will work the same way Emacs and/or standard Unix tools do: good
enough!  If there are improvements to be made, which do not jeopardise
the principles of the project, we shall implement them without
hesitation.  Thanks to Saša Janiška and Peter Prevos for their
participation on the mailing list:
<a href="https://lists.sr.ht/~protesilaos/denote/%3C87sfmtf7im.fsf%40atmarama.ddns.net%3E">https://lists.sr.ht/~protesilaos/denote/%3C87sfmtf7im.fsf%40atmarama.ddns.net%3E</a>.</dd>

<dt>Denote's minimum requirement of Emacs 27.2</dt><dd><p>
We cannot depend on
Emacs 27.1 due to this message from the byte compiler:
</p>

<pre class="example">
You should depend on (emacs "27.2") or the (org "9.3") package if you need `org-link-open-as-file'.
</pre>


<p>
Depending on Org is not an option because Denote optionally works
without Org, so Emacs 27.2 is what we have to opt for.  If your
operating system does not provide this version in package format,
please petition its maintainers/providers to do so.  Thanks to
Alexander for asking about it on the mailing list:
<a href="https://lists.sr.ht/~protesilaos/denote/%3C9ec818e6a7979efbb2f8b1f5a497665b%40purelymail.com%3E">https://lists.sr.ht/~protesilaos/denote/%3C9ec818e6a7979efbb2f8b1f5a497665b%40purelymail.com%3E</a>.
</p></dd>
</dl>

<p>
Finally, a mildly interesting piece of trivia: we have exceeded 600
commits since the first day of the project's Git history on 2022-06-04
(the actual history is much longer).  That averages to more than 10 per
day!  I think things will slow down eventually.
</p>
</div>
</div>
</div>

<div id="outline-container-h:6864cfd4-d0be-4c89-b313-39ba6e892a03" class="outline-2">
<h2 id="h:6864cfd4-d0be-4c89-b313-39ba6e892a03">Version 0.3.0 on 2022-07-11</h2>
<div class="outline-text-2" id="text-h:6864cfd4-d0be-4c89-b313-39ba6e892a03">
<ul class="org-ul">
<li><p>
Fixed how references are analysed to produce the backlinks' buffer.
This should resolve the issue that some users faced where the
backlinks would not be produced.
</p>

<p>
The previous implementation would not yield the appropriate results if
(i) the value of the user option <code>denote-directory</code> was a "project"
per the built-in project.el and (ii) the link to the given entry was
from a subdirectory.  In short, the references were sometimes returned
as relative file paths, whereas they should always be absolute.
Thanks to Jean-Philippe Gagné Guay for the feedback in issue 42 over
at the GitHub mirror: <a href="https://github.com/protesilaos/denote/pull/42">https://github.com/protesilaos/denote/pull/42</a>.
</p>

<p>
[ Jean-Philippe has assigned copyright to the Free Software
  Foundation.  It is a prerequisite for contributing to core Emacs
  and/or any package distributed via the official GNU ELPA. ]
</p></li>

<li><p>
Addressed a regression in the function <code>denote-directory</code> (this is the
function that normalises the variable of the same name) which
prevented it from returning an expanded file path.  This too
contributed to problems with the backlinking facility.  Thanks to
Jean-Philippe Gagné Guay for the contribution in pull request 44 over
at the GitHub mirror: <a href="https://github.com/protesilaos/denote/pull/44">https://github.com/protesilaos/denote/pull/44</a>.
</p>

<p>
Also thanks to user pRot0ta1p for the relevant feedback in issue 43
(also on the mirror): <a href="https://github.com/protesilaos/denote/issues/43">https://github.com/protesilaos/denote/issues/43</a>.
More thanks to Alfredo Borrás, Benjamin Kästner, and Sven Seebeck for
their comments in a related thread on the mailing list:
<a href="https://lists.sr.ht/~protesilaos/denote/%3CCA73E705-1194-4324-9962-70708C4C72E5%40zoho.eu%3E">https://lists.sr.ht/~protesilaos/denote/%3CCA73E705-1194-4324-9962-70708C4C72E5%40zoho.eu%3E</a>.
These discussions showed we had a problem, which we managed to
identify.
</p></li>

<li><p>
Introduced the user option <code>denote-prompts</code> (read its doc string or
the relevant entry in the manual).  It governs how the standard
<code>denote</code> command for creating new notes will behave in interactive
usage.  By default, <code>denote</code> prompts for a title and keywords.  With
<code>denote-prompts</code>, the command can also ask for a file type (per
<code>denote-file-type</code>), subdirectory of the <code>denote-directory</code>, and a
specific date+time.  Prompts occur in the order they are specified.
Furthermore, the <code>denote-prompts</code> can be set to values which do not
include the title and keywords.  This means that the resulting file
names can be any of those permutations:
</p>

<pre class="example">
DATE.EXT
DATE--TITLE.EXT
DATE__KEYWORDS.EXT
</pre>


<p>
Recall that Denote's standard file-naming scheme is defined as follows
(read the manual for the details):
</p>

<pre class="example">
DATE--TITLE__KEYWORDS.EXT
</pre>


<p>
For our purposes, Denote will work perfectly fine for linking and
backlinking, even if file names do not include the <code>TITLE</code> and
<code>KEYWORDS</code> fields.  However, the user is advised to consider the
implications on usability: notes without a descriptive title and/or
useful keywords may be hard to filter and practically impossible to
manage at scale.  File names without such information should at least
be added to subdirectories which themselves have a descriptive name.
</p>

<p>
At any rate, Denote does not have strong opinions about one's
workflow.  The standard file name is the culmination of years of
experience.
</p>

<p>
Consider the <code>denote-prompts</code> the affirmative answer to the question
"Can keywords be optional?" as posed by Jack Baty on the mailing list:
<a href="https://lists.sr.ht/~protesilaos/denote/%3C8D392BC3-980A-4E5B-9480-D6A00BE8279F%40baty.net%3E">https://lists.sr.ht/~protesilaos/denote/%3C8D392BC3-980A-4E5B-9480-D6A00BE8279F%40baty.net%3E</a>.
</p>

<p>
Thanks to Jean-Philippe Gagné Guay for the original contribution in
commit 9b981a2.  It was originally part of a pull request, but due to
some internal changes I had to merge it as a patch and technically the
web UI did not count the PR as "merged" (though it was in terms of
substance).
</p></li>

<li><p>
Refactored the <code>denote</code> command to (i) accommodate the new user option
<code>denote-prompts</code> via its interactive specification and (ii) be more
flexible when called from Lisp.  The latter scenario is for advanced
users or, generally, those who can maintain some custom code in their
configuration.  A case in point is one of the examples we show in the
manual for a programmatic way to create notes that automatically get
the <code>journal</code> tag:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">  (defun my-denote-journal ()
    "Create an entry tagged 'journal', while prompting for a title."
    (interactive)
    (denote
     (denote--title-prompt)
     '("journal")))
</pre>
</div>

<p>
Notice that the <code>'("journal")</code> is a list of strings even for a single
keyword.  Whereas before a single one was a plain string.  This is a
breaking change.
</p>

<p>
Please consult the doc string of the <code>denote</code> command for the
technicalities.
</p></li>

<li><p>
Refashioned the interactive convenience functions of <code>denote-type</code>,
<code>denote-date</code>, <code>denote-subdirectory</code> to leverage the <code>denote-prompts</code>
user option while calling <code>denote</code> interactively.  In practical terms,
they no longer accept any arguments when called from Lisp.  Users who
need a programmatic approach are advised to either call <code>denote</code>
directly, or check how these commands <code>let</code> bind the <code>denote-prompts</code>
to carry out their operations.  The doc string of each command
explains how it works.  Or evaluate this to check the manual:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">  (info "(denote) Convenience commands for note creation")
</pre>
</div>

<p>
Else visit:
<a href="https://protesilaos.com/emacs/denote#h:887bdced-9686-4e80-906f-789e407f2e8f">https://protesilaos.com/emacs/denote#h:887bdced-9686-4e80-906f-789e407f2e8f</a>
</p></li>

<li><p>
Documented how the user option <code>denote-directory</code> can accept a local
value.  This is pertinent to scenaria where the user needs to maintain
separate directories of notes.  By "separate" we mean sets of notes
that do not communicate with each other, cannot create links between
them, etc.  The manual delves into the technicalities.  If you have
the Info entry installed, evaluate:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">  (info "(denote) Maintain separate directories for notes")
</pre>
</div>

<p>
Else visit:
<a href="https://protesilaos.com/emacs/denote#h:15719799-a5ff-4e9a-9f10-4ca03ef8f6c5">https://protesilaos.com/emacs/denote#h:15719799-a5ff-4e9a-9f10-4ca03ef8f6c5</a>.
</p>

<p>
Thanks to user "Summer Emacs" for starting the discussion on the
mailing list, and Benjamin Kästner for their participation:
<a href="https://lists.sr.ht/~protesilaos/denote/%3Cm25yk5e856.fsf@gmail.com%3E">https://lists.sr.ht/~protesilaos/denote/%3Cm25yk5e856.fsf@gmail.com%3E</a>.
</p></li>

<li>Added an entry to the manual's Frequently Asked Questions about a
failed search for backlinks.  It includes sample code that users of
Windows can apply, if necessary.  (The error is not Denote's fault.)
Thanks to Benjamin Kästner for the patch, which is below the ~15 line
threshold and thus does not require copyright assignment to the Free
Software Foundation:
<a href="https://lists.sr.ht/~protesilaos/denote/%3Cce117b14-55cf-622e-6cd8-0af698091ae3%40gmail.com%3E">https://lists.sr.ht/~protesilaos/denote/%3Cce117b14-55cf-622e-6cd8-0af698091ae3%40gmail.com%3E</a>.</li>

<li>Removed duplicate entries from the list of file paths that the <code>xref</code>
library returns for the purposes of backlinking.  Thanks to
Jean-Philippe Gagné Guay for the contribution in pull request 44 on
the GitHub mirror: <a href="https://github.com/protesilaos/denote/issues/44">https://github.com/protesilaos/denote/issues/44</a>.</li>

<li>Applied an appropriate face to the backlinks' button to mitigate an
error.  Thanks to Jean-Philippe Gagné Guay for the contribution in
pull request 45 on the GitHub mirror and for later testing a
subsequent tweak: <a href="https://github.com/protesilaos/denote/issues/45">https://github.com/protesilaos/denote/issues/45</a>.</li>

<li>Simplfied all the faces we define to make them work with all themes.
The previous colours were consistent with the <code>modus-themes</code>:
<a href="https://protesilaos.com/emacs/modus-themes">https://protesilaos.com/emacs/modus-themes</a>.</li>

<li>Refined how strings are sluggified under all circumstances.  Before, a
nil value for the user option <code>denote-allow-multi-word-keywords</code> would
have the adverse effect of joining all the strings in the title field
of the file name.  The intent always was to do that only for
multi-word keywords, not the title.  This change was part of a hotfix,
formalised as version <code>0.2.1</code> a day after the release of <code>0.2.0</code>.</li>

<li>Made the fontification rules more robust, while avoiding any false
positives.  This was done over a series of commits as it had
implications for the file name permutations that were mentioned
earlier.  Thanks to Jean-Philippe Gagné Guay for the patches and/or
discussion about the merits of each change and concomitant
considerations:

<ul class="org-ul">
<li><a href="https://github.com/protesilaos/denote/pull/36">https://github.com/protesilaos/denote/pull/36</a></li>
<li><a href="https://github.com/protesilaos/denote/pull/38">https://github.com/protesilaos/denote/pull/38</a></li>
<li><a href="https://github.com/protesilaos/denote/pull/40">https://github.com/protesilaos/denote/pull/40</a></li>
<li><a href="https://github.com/protesilaos/denote/pull/42">https://github.com/protesilaos/denote/pull/42</a></li>
</ul></li>

<li>Rewrote all relevant entries in the manual to reflect all the
user-facing aspects of the aforementioned.</li>

<li><p>
Discussed a use-case of rewriting old journal entries as Denote-style
files.  As of this writing, we do not support migration of files in
bulk.  It might happen at some point, though it is no mean task.
Thanks to Summer Emacs and Alan Schmitt for their participation:
<a href="https://lists.sr.ht/~protesilaos/denote/%3Cm27d4mbktj.fsf%40gmail.com%3E">https://lists.sr.ht/~protesilaos/denote/%3Cm27d4mbktj.fsf%40gmail.com%3E</a>.
</p>

<p>
An aside here as this topic was brought up: my packages are open to
users of all skill levels and is why I maintain a mailing list as well
as mirrors of the official git repository on SourceHut.  Do not
hesitate to ask a question.  If, for whatever reason, those
communication channels are not appropriate, you are welcome to contact
me in private: <a href="https://protesilaos.com/contact">https://protesilaos.com/contact</a>.
</p></li>
</ul>

<p>
Thanks again to Jean-Philippe Gagné Guay for the numerous contributions.
Please read the commit log for the minutia, as this change log entry
omitted some of the finer yet important details.
</p>
</div>
</div>

<div id="outline-container-h:2002fee6-3f0c-48be-9727-6d4e20f34856" class="outline-2">
<h2 id="h:2002fee6-3f0c-48be-9727-6d4e20f34856">Version 0.2.0 on 2022-07-04</h2>
<div class="outline-text-2" id="text-h:2002fee6-3f0c-48be-9727-6d4e20f34856">
<ul class="org-ul">
<li>Version <code>0.1.0</code> (from 2022-06-27) was never built as a package.  The
reason is that the GNU ELPA machinery reads the <code>Version:</code> header of
the main file, not the git tag.  As the original commit in <code>denote.el</code>
included <code>Version: 0.1.0</code>, GNU ELPA rightly tries to build the package
using that reference.  But because at that time I had not yet updated
the Copyright header to name the Free Software Foundation, the package
could not be prepared.  As such, please consider this release to be
the "first formal stable version".  My apologies for the delay,
contrary to what was promised in the last change log entry.

<ul class="org-ul">
<li>Prospective users are advised to read the manual:
<a href="https://protesilaos.com/emacs/denote">https://protesilaos.com/emacs/denote</a>.  For a video demonstration:
<a href="https://protesilaos.com/codelog/2022-06-18-denote-demo/">https://protesilaos.com/codelog/2022-06-18-denote-demo/</a>.</li>

<li>Thanks to Benjamin Kästner for reporting the issue with the GNU ELPA
package on the mailing list:
<a href="https://lists.sr.ht/~protesilaos/denote/%3C9d600ff0-4fed-2ad7-5dbc-5a194639a045@gmail.com%3E">https://lists.sr.ht/~protesilaos/denote/%3C9d600ff0-4fed-2ad7-5dbc-5a194639a045@gmail.com%3E</a>.</li>
</ul></li>

<li>Originally, Denote was designed to only work with notes in a flat
directory.  With code contributions from Jean-Philippe Gagné Guay,
support for subdirectories of the user option <code>denote-directory</code> is
now available.  This covers the case of creating links between notes,
following them, and viewing the backlinks' buffer of the current
entry.

<ul class="org-ul">
<li>Thanks to Jean-Philippe for the contributions which took place on
the GitHub mirror:

<ul class="org-ul">
<li><a href="https://github.com/protesilaos/denote/pull/24">https://github.com/protesilaos/denote/pull/24</a></li>
<li><a href="https://github.com/protesilaos/denote/pull/25">https://github.com/protesilaos/denote/pull/25</a></li>
<li><a href="https://github.com/protesilaos/denote/pull/26">https://github.com/protesilaos/denote/pull/26</a></li>
</ul></li>

<li>Jean-Philippe Gagné Guay has assigned copyright to the Free Software
Foundation.  This is a prerequisite to contribute code to any
package on the official GNU ELPA archive (and to emacs.git for that
matter).</li>
</ul></li>

<li>The new <code>denote-subdirectory</code> command lets the user select a directory
to place the new note in.  Available candidates are the value of the
<code>denote-directory</code> as well as all of its subdirectories, minus <code>.git</code>.
In future versions, we will consider how to provide a blocklist or a
regexp filter for the user to specify which subdirectories should be
omitted from minibuffer completion.  Please consider providing your
feedback on the technicalities.

<ul class="org-ul">
<li>Thanks to Jean-Philippe Gagné Guay and Shreyas Ragavan for the
feedback in issue 31 on the GitHub mirror:
<a href="https://github.com/protesilaos/denote/issues/31">https://github.com/protesilaos/denote/issues/31</a>.</li>

<li>Thanks to Jean-Philippe Gagné Guay for fixing a potential problem in
how directories are represented when commands enter the directory
instead of selecting it (again, at the GitHub mirror):
<a href="https://github.com/protesilaos/denote/pull/35">https://github.com/protesilaos/denote/pull/35</a>.</li>
</ul></li>

<li>From 2022-06-24 to 2022-07-03, Denote provided support for links
between Org notes that leveraged the <code>id:</code> hyperlink type.
Discussions on the mailing list and the GitHub mirror revealed the
longer-term problems in our implementation.  In the Annex below, I
provide my detailed opinion on the matter.  The gist is that Denote
does not&#x2014;and will not&#x2014;create <code>id:</code> links between its notes, but
shall use the <code>denote:</code> hyperlink type instead (which works like the
standard <code>file:</code> type).  As the Annex explains, Denote is not org-roam
lite and we try not to engender such false expectations.

<ul class="org-ul">
<li>Despite the fact that the relevant patches are no longer applicable,
I wish to thank Kaushal Modi and Jean-Philippe Gagné Guay for their
contributions over at the GitHub mirror:

<ul class="org-ul">
<li><a href="https://github.com/protesilaos/denote/pull/20">https://github.com/protesilaos/denote/pull/20</a></li>
<li><a href="https://github.com/protesilaos/denote/pull/28">https://github.com/protesilaos/denote/pull/28</a></li>
</ul></li>
</ul></li>

<li><p>
The user option <code>denote-date-format</code> controls how the date and time is
recorded in the file's contents (what we call "front matter").  When
nil (the default value), we use a file-type-specific format (also
check the user option <code>denote-file-type</code>):
</p>

<ul class="org-ul">
<li>For Org, an inactive timestamp is used, such as <code>[2022-06-30 Wed 15:31]</code>.</li>

<li>For Markdown, the RFC3339 standard is applied: <code>2022-06-30T15:48:00+03:00</code>.</li>

<li>For plain text, the format is that of ISO 8601: <code>2022-06-30</code>.</li>
</ul>

<p>
If the value is a string, ignore the above and use it instead.  The
string must include format specifiers for the date.  These are described
in the doc string of <code>format-time-string</code>.
</p>

<p>
The <code>denote-date-format</code> supersedes the now obsolete
<code>denote-front-matter-date-format</code>.
</p>

<p>
Thanks to Peter Prevos and Kaushal Modi for their feedback in issue 27
on the GitHub mirror: <a href="https://github.com/protesilaos/denote/issues/27">https://github.com/protesilaos/denote/issues/27</a>.
</p></li>

<li>All the faces we define are now declared in the <code>denote-faces.el</code>
file.  The fontification rules are shared by <code>denote-dired-mode</code> and
the backlinks' buffer (invoked by <code>denote-link-backlinks</code> and
controlled by the user option <code>denote-link-fontify-backlinks</code>).  The
current list of faces:

<ul class="org-ul">
<li><code>denote-faces-date</code></li>
<li><code>denote-faces-delimiter</code></li>
<li><code>denote-faces-extension</code></li>
<li><code>denote-faces-keywords</code></li>
<li><code>denote-faces-subdirectory</code></li>
<li><code>denote-faces-time</code></li>
<li><code>denote-faces-title</code></li>
</ul></li>

<li>Named the mailing list address as the <code>Maintainer:</code> of Denote.
Together with the other package headers, they help the user find our
primary sources and/or communication channels.  This change conforms
with work being done upstream in package.el by Philip Kaludercic.  I
was informed about it here:
<a href="https://lists.sr.ht/~protesilaos/general-issues/%3C875ykl84yi.fsf%40posteo.net%3E">https://lists.sr.ht/~protesilaos/general-issues/%3C875ykl84yi.fsf%40posteo.net%3E</a>.</li>

<li>Fixed how keywords are inferred and combined.  The previous code did not
work properly when the user option <code>denote-infer-keywords</code> was nil.
It would return a list of symbols, with the parentheses, whereas the
file name needs a string where each keyword is delimited by an
underscore.</li>

<li>Simplified how information in the front matter is retrieved.  It fixes
cases where, for example, a special character at the end of the title
was ignored.  Thanks to Jean-Philippe Gagné Guay for the patch over at
the GitHub mirror: <a href="https://github.com/protesilaos/denote/pull/21">https://github.com/protesilaos/denote/pull/21</a>.</li>

<li>Rewrote parts of the manual in the interest of clarity.</li>
</ul>
</div>

<div id="outline-container-h:647d6155-1ac3-4ecb-bd4c-06d09fecd3ba" class="outline-3">
<h3 id="h:647d6155-1ac3-4ecb-bd4c-06d09fecd3ba">Annex about discontinuing support for org-id</h3>
<div class="outline-text-3" id="text-h:647d6155-1ac3-4ecb-bd4c-06d09fecd3ba">
<p>
My thanks for their participation in the discussions go to Jean-Philippe
Gagné Guay, Kaushal Modi, and Shreyas Ragavan.
</p>

<pre class="example" id="org0d4dad2">
commit f35ef05cb451f265213c3aafc1e62c425b1ff043
Author: Protesilaos Stavrou &lt;info@protesilaos.com&gt;
Date:   Sun Jul 3 17:34:38 2022 +0300

    REMOVE support for 'id:' hyperlink types

    The original idea was to support the 'org-id' library on the premise
    that it makes Denote a good Emacs citizen.  However, discussions on the
    mailing list[0] and the GitHub mirror[1] have made it clear to me that
    'org-id' is not consistent with Denote's emphasis on simplicity.

    To support the way 'org-id' works, we will eventually have to develop
    some caching mechanism, just how the org-roam package does it.  This is
    because the variable 'org-id-extra-files' needs to be kept up-to-date
    whenever an operation on a file is performed.  At scale, this sort of
    monitoring requires specialised software.  Such a mechanism is outside
    the scope of Denote---if you need a db, use org-roam which is already
    great.

    [0] &lt;https://lists.sr.ht/~protesilaos/denote/%3C8735fk4y1w.fsf%40hallac.net%3E#%3C877d4un73c.fsf@protesilaos.com%3E&gt;

    [1] &lt;https://github.com/protesilaos/denote/issues/29&gt;

    Quote of what I wrote on the GitHub mirror issue 29:

            [ggjp] This is what I was implying.  That we are, in fact,
            providing an option that is not viable long-term, but keeping
            the option for expert users who will be able to handle this.
            And we should warn about this clearly in the doc of that option.

        [protesilaos] What you write here @ggjp and what @shrysr explained
        tells me that those expert users will need to be real experts.  To
        put it concretely, I am an experienced Emacs user with no
        programming background, who has written several Emacs
        packages (including the modus-themes which are built into Emacs),
        but I have zero knowledge of using a db or of handling things with
        python and the like.  So if I opt in to 'denote-link-use-org-id' I
        will eventually run into problems that my non-existent skills will
        prevent me from solving.  At that point, I will just use org-roam
        which already handles this use-case in a competent way (and has a
        massive community to rely on in case I need further support).

        If each package needs to write its own optimisations and maintain
        its own cache, to me this shows that 'org-id' is not good enough for
        the time being: more work needs to be done in org.git to provide a
        universal solution.

        I wanted to support 'org-id' by default on the premise that Denote
        must be a good Emacs citizen which interoperates with the rest of
        the wider ecosystem.  But if 'org-id' leaves something to be
        desired, then that goal is not worth pursuing: we add complexity to
        our code, offer an option that we cannot genuinely/adequately
        support, and make usage of it contingent on reading the docs and
        having a high level of expertise.

        I think being a good Emacs citizen is a laudable principle.  In this
        case, the right thing to do is to recommend the use of org-roam
        instead of trying to accommodate 'org-id'.  As such, I have now
        changed my mind and think we should remove what we previously added.

        For some context here: the reason I never used org-roam is
        because (i) it is Org-specific whereas I write notes in different
        file types and (ii) I did not want to ever rely on a db or
        equivalent dependency.

        &lt;https://github.com/protesilaos/denote/issues/29#issuecomment-1173036924&gt;

 README.org         | 226 ++++++++---------------------------------------------
 denote-link.el     |  99 ++++++-----------------
 denote-retrieve.el |   2 +-
 denote.el          |  14 +---
 4 files changed, 63 insertions(+), 278 deletions(-)
</pre>

<p>
Followed up by my explanation:
</p>

<div class="org-src-container">
<pre class="src src-text">&gt; can we not have denote style links to be default for (de)notes - and
&gt; explicitly supported, while if they need to, users can still link
&gt; denote org files via org-id to any other notes/files (and vice versa)
&gt; -- in which case performance + testing for org-id driven linking is
&gt; not within Denote's purview at all?

The formal support for `id:` links was added shortly before the release
of version `0.1.0`.  In the days prior, we supported what you describe
via the manual.  The user could change the `denote-org-front-matter`
variable to include a `PROPERTIES` drawer.  This possibility still
exists, though yesterday I removed the relevant entry from the manual.
This way only the real do-it-yourself experts will go down that path.

My concern here is with managing expectations.  If our Org notes are
superficially the same as org-roam's, an unsuspecting user may think
that Denote is an org-roam lite.  We will thus get issues/requests, such
as those already mentioned in this GitHub repo, about migrating from
org-roam to Denote.  While there are similarities, Denote is not a
minimalist org-roam and I would not like to encourage the idea of
treating the two as interchangeable.

Doing things half-way-through is a way to create false expectations.  A
package on GNU ELPA must be usable by users of all skill levels.  If the
functionality we provide is incomplete and needs to be covered by
user-level tweaks, we are excluding a portion of the user base while
still assuming the maintenance burden.  If someone trusts Denote to,
say, write a 1000 notes, we do not want to surprise them after the fact.
Imagine if the reported issues that triggered this change happened 6
months into one's daily usage of Denote: it wouldn't be nice.

Setting the right expectations is a matter of responsibility: we let the
user make a more informed choice and show respect for their time.  It
also makes it easier for me to keep Denote's scope in check by not
supporting every little extra that Org implements.  The premier Org
extension is org-roam: we do not need another one (or, if we do, I am
not the one to implement it).

* * *

Some comments on the `denote:` hyperlink type for Org as they may be
relevant in this context:

* It is meant to work like the standard `file:` type.  This means that
  it links to a file, while it can also have additional search
  parameters, as explained in the Org manual.  Evaluate:

      (info "(org) Search Options")

* It does not read the front matter, but only the file name.  You can
  create a note as usual, delete all its contents, save it, and try to
  link to it from another note.  It works.

* Exporting now works like the `file:` type for HTML, LaTeX, Texinfo,
  and Markdown.  Technically, it also supports the ASCII backend but the
  format of the output could be tweaked further.

There may be refinements to be made, which is okay as that is part of a
maintainer's duties.
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-h:33939747-ad60-4913-a170-4b2f48f139cc" class="outline-2">
<h2 id="h:33939747-ad60-4913-a170-4b2f48f139cc">Version 0.1.0 on 2022-06-27</h2>
<div class="outline-text-2" id="text-h:33939747-ad60-4913-a170-4b2f48f139cc">
<p>
The present entry is intended for early adopters of Denote who may have
not caught up with the latest developments.  Prospective users are
advised to read the manual: <a href="https://protesilaos.com/emacs/denote">https://protesilaos.com/emacs/denote</a>.  For
a video demonstration: <a href="https://protesilaos.com/codelog/2022-06-18-denote-demo/">https://protesilaos.com/codelog/2022-06-18-denote-demo/</a>.
</p>

<ul class="org-ul">
<li>The <code>denote</code> package on GNU ELPA will be available a few hours after
this release.  GNU ELPA provides the latest stable release.  To use a
development snapshot, read:
<a href="https://protesilaos.com/codelog/2022-05-13-emacs-elpa-devel/">https://protesilaos.com/codelog/2022-05-13-emacs-elpa-devel/</a>.</li>

<li>Remember that any significant contribution (above ~15 lines) requires
copyright assignment to the Free Software Foundation.  A form with
instructions is included in the manual's "Contributing" section:
<a href="https://protesilaos.com/emacs/denote#h:1ebe4865-c001-4747-a6f2-0fe45aad71cd">https://protesilaos.com/emacs/denote#h:1ebe4865-c001-4747-a6f2-0fe45aad71cd</a>.</li>

<li><p>
The front matter of notes in Org has changed to be compliant with the
standard <code>org-id</code> infrastructure.  A <code>PROPERTIES</code> drawer is added to
the top of the file, which includes an <code>ID</code> property with the value of
the Denote identifier.  Sample:
</p>

<div class="org-src-container">
<pre class="src src-org">  :PROPERTIES:
  :ID:          20220610T202537
  :END:
  #+title:      Sample Org front matter
  #+date:       2022-06-10
  #+filetags:   denote  testing
</pre>
</div></li>

<li><p>
The front matter of Markdown (YAML or TOML) and plain text files
remains constant.  For completeness, this is how they look:
</p>

<div class="org-src-container">
<pre class="src src-md">   ---
   title:      "Sample with Markdown and YAML"
   date:       2022-06-10
   tags:       denote  testing
   identifier: "20220610T202021"
   ---
</pre>
</div>

<div class="org-src-container">
<pre class="src src-md">  +++
  title      = "Sample with Markdown and TOML"
  date       = 2022-06-10
  tags       = ["denote", "testing"]
  identifier = "20220610T201510"
  +++
</pre>
</div>

<pre class="example" id="org12cb715">
  title:      Sample plain text
  date:       2022-06-10
  tags:       denote  testing
  identifier: 20220610T202232
  ---------------------------
</pre></li>

<li>The integration with <code>org-id</code> extends to how linking works.  By
default, Denote uses its own custom hyperlink type which starts with
the <code>denote:</code> prefix.  In Org, it works like the <code>file:</code> type.  When
the user option <code>denote-link-use-org-id</code> is non-nil, links from Org
notes to other Org notes will use the standard <code>id:</code> type instead.  As
this is an Org-specific feature, Denote takes care to use the
major-mode-agnostic <code>denote:</code> type when the link targets a non-Org
note.</li>

<li><p>
In Org files the links created by Denote are buttonized automatically.
For Markdown and plain text, we use our own methods.  When a link is
inserted it is buttonized outright.  To buttonize links in existing
notes while visiting them in a buffer, add/evaluate this (it excludes
Org on its own):
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">  (add-hook 'find-file-hook #'denote-link-buttonize-buffer)
</pre>
</div></li>

<li>The generation of the backlinks' buffer now uses the built-in <code>xref</code>
library instead of relying on a hardcoded call to the <code>find</code>
executable.  This means that the <code>denote-link-backlinks</code> command will,
in principle, work properly with all Emacs builds.</li>

<li>Users of Emacs 28 or higher can configure <code>xref-search-program</code> to
change from the default <code>grep</code> to <code>ripgrep</code>, <code>ugrep</code>, or a
user-defined alternative.</li>

<li>This is the first stable release of Denote.  It covers close to 400
commits starting from 2022-06-04.  Denote is the successor to a toy
package of mine, USLS, whose first public version was made available
in early November 2020: <a href="https://gitlab.com/protesilaos/usls">https://gitlab.com/protesilaos/usls</a>.</li>

<li>Thanks to everyone involved in the development of Denote.  Code
contributions, bug reports, discussion of ideas, are all valuable.
From A-Z the names mentioned in the manual's "Acknowledgements"
section: Colin McLear, Damien Cassou, Frank Ehmsen, Jack Baty, Kaushal
Modi, Peter Povinec, Sven Seebeck, Ypot.</li>

<li>Sources of Denote:

<ul class="org-ul">
<li>Package name (GNU ELPA): <code>denote</code></li>
<li>Official manual: <a href="https://protesilaos.com/emacs/denote">https://protesilaos.com/emacs/denote</a></li>
<li>Change log: <a href="https://protesilaos.com/emacs/denote-changelog">https://protesilaos.com/emacs/denote-changelog</a></li>
<li>Git repo on SourceHut: <a href="https://git.sr.ht/~protesilaos/denote">https://git.sr.ht/~protesilaos/denote</a>
<ul class="org-ul">
<li>Mirrors:
<ul class="org-ul">
<li>GitHub: <a href="https://github.com/protesilaos/denote">https://github.com/protesilaos/denote</a></li>
<li>GitLab: <a href="https://gitlab.com/protesilaos/denote">https://gitlab.com/protesilaos/denote</a></li>
</ul></li>
</ul></li>
<li>Mailing list: <a href="https://lists.sr.ht/~protesilaos/denote">https://lists.sr.ht/~protesilaos/denote</a></li>
</ul></li>
</ul>
</div>
</div>
