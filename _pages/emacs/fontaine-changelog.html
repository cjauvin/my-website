---
layout: page
title: 'Change Log of fontaine (fontaine.el)'
excerpt: "Fontaine (fontaine.el) lets the user set Emacs font configurations using presets."
permalink: /emacs/fontaine-changelog
---

<p>
This document contains the release notes for each tagged commit on the
project's main git repository: <a href="https://git.sr.ht/~protesilaos/fontaine">https://git.sr.ht/~protesilaos/fontaine</a>.
</p>

<p>
The newest release is at the top.  For further details, please consult
the manual: <a href="https://protesilaos.com/emacs/fontaine">https://protesilaos.com/emacs/fontaine</a>.
</p>

<div id="outline-container-h:f9399542-29b7-4d26-af82-090fed802cc8" class="outline-2">
<h2 id="h:f9399542-29b7-4d26-af82-090fed802cc8">Version 0.2.0 on 2022-05-09</h2>
<div class="outline-text-2" id="text-h:f9399542-29b7-4d26-af82-090fed802cc8">
<ul class="org-ul">
<li>Fontaine can apply its changes on a per-frame basis.  One frame may,
for example, use a preset of font configurations for the purposes of a
"presentation" while the other has a "small" setup.  Concretely,
invoke the commands <code>fontaine-set-preset</code> and <code>fontaine-set-face-font</code>
with a universal prefix argument (<code>C-u</code>).  Without a prefix argument,
these commands apply to all frames (as it was before).</li>

<li>The <code>fontaine-presets</code> accepts a special <code>t</code> preset which provides
"shared fallback values" for all presets.  The manual has a section
titled "Shared and implicit fallback values for presets" which covers
all permutations of <code>fontaine-presets</code> at length.  The gist is that
the user can write more concise presets.  Thanks to Ted Reed for
proposing the idea and testing my prototype in the mailing list:
<a href="https://lists.sr.ht/~protesilaos/fontaine/%3C87y1zcmo67.fsf@zenithia.net%3E">https://lists.sr.ht/~protesilaos/fontaine/%3C87y1zcmo67.fsf@zenithia.net%3E</a>.</li>

<li>Simplified the sample configuration on how to restore the latest saved
value or fall back to a preferred preset.  Thanks to Christopher
League for proposing an elegant expression over at the mailing list:
<a href="https://lists.sr.ht/~protesilaos/fontaine/%3C87sfpop0dm.fsf@contrapunctus.net%3E#%3C87pmksoyv6.fsf@contrapunctus.net%3E">https://lists.sr.ht/~protesilaos/fontaine/%3C87sfpop0dm.fsf@contrapunctus.net%3E#%3C87pmksoyv6.fsf@contrapunctus.net%3E</a></li>

<li>The <code>fontaine-latest-state-file</code> is now handled by the package
<code>no-littering</code>.  Thanks to Christopher League for adding it there:
<a href="https://github.com/emacscollective/no-littering/commit/76b7335202a5b6ddc6b6798a2e2fd5b09df57dc2">https://github.com/emacscollective/no-littering/commit/76b7335202a5b6ddc6b6798a2e2fd5b09df57dc2</a></li>

<li>The new user option <code>fontaine-font-families</code> specifies the preferred
font families that are provided as completion candidates of the
command <code>fontaine-set-face-font</code>.  If left to its default nil value,
Fontaine tries to find relevant fonts from the underlying system,
though this is not always accurate depending on the build of Emacs and
where it runs in.</li>

<li>The doc string of <code>fontaine-presets</code> mentions some important caveats
or information about font settings in emacs.  Thanks to Eli Zaretskii
for the feedback on the emacs-devel mailing list:
<a href="https://lists.gnu.org/archive/html/emacs-devel/2022-04/msg01281.html">https://lists.gnu.org/archive/html/emacs-devel/2022-04/msg01281.html</a>.</li>
</ul>
</div>
</div>

<div id="outline-container-h:80e56ed6-cf2b-49a2-9184-b149c9ecfa38" class="outline-2">
<h2 id="h:80e56ed6-cf2b-49a2-9184-b149c9ecfa38">Version 0.1.0 on 2022-04-28</h2>
<div class="outline-text-2" id="text-h:80e56ed6-cf2b-49a2-9184-b149c9ecfa38">
<p>
Initial release of the package.  Please read the manual.
</p>

<p>
The core idea for this package was implemented in the <code>prot-fonts.el</code>
file that is part of <a href="https://gitlab.com/protesilaos/dotfiles">my dotfiles</a> (now deprecated).  I was using it at
least since November 2020, though the underlying code was probably
implemented at an earlier date.
</p>
</div>
</div>
