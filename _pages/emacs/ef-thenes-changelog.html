---
layout: page
title: 'Change Log of the Ef Themes'
excerpt: "A collection of colourful-yet-legible themes for GNU EMACS."
permalink: /emacs/ef-themes-changelog
---

<p>
This document contains the release notes for each tagged commit on the
project's main git repository: <a href="https://git.sr.ht/~protesilaos/ef-themes">https://git.sr.ht/~protesilaos/ef-themes</a>.
</p>

<p>
The newest release is at the top.  For further details, please consult
the manual: <a href="https://protesilaos.com/emacs/ef-themes">https://protesilaos.com/emacs/ef-themes</a>.
</p>

<div id="outline-container-h:d0d24c93-7954-4c52-b5a2-79089b53c767" class="outline-2">
<h2 id="h:d0d24c93-7954-4c52-b5a2-79089b53c767">Version 0.5.0 on 2022-09-11</h2>
<div class="outline-text-2" id="text-h:d0d24c93-7954-4c52-b5a2-79089b53c767">
</div>

<div id="outline-container-h:dfdea23c-8d89-4461-8668-04a317fb498d" class="outline-3">
<h3 id="h:dfdea23c-8d89-4461-8668-04a317fb498d">New duo-chrome themes</h3>
<div class="outline-text-3" id="text-h:dfdea23c-8d89-4461-8668-04a317fb498d">
<p>
The collection now includes two items which apply shades of blue and
yellow in most interfaces.  The themes are named <code>ef-duo-dark</code> and
<code>ef-duo-light</code>.
</p>

<p>
Read the announcement:
<a href="https://protesilaos.com/codelog/2022-09-06-ef-themes-duo/">https://protesilaos.com/codelog/2022-09-06-ef-themes-duo/</a>.
</p>

<p>
View all image samples:
<a href="https://protesilaos.com/emacs/ef-themes-pictures">https://protesilaos.com/emacs/ef-themes-pictures</a>.
</p>

<p>
The choice of blue and yellow is largely stylistic: it is not done to
accommodate users with red-green colour deficiency.  For that case, the
Ef themes provide <code>ef-deuteranopia-dark</code> and <code>ef-deuteranopia-light</code>.
</p>
</div>
</div>

<div id="outline-container-h:db9d8e1d-d33c-46a5-b41c-8bbb19e0b8af" class="outline-3">
<h3 id="h:db9d8e1d-d33c-46a5-b41c-8bbb19e0b8af">Bespoke accent colours for the mode line</h3>
<div class="outline-text-3" id="text-h:db9d8e1d-d33c-46a5-b41c-8bbb19e0b8af">
<p>
Each theme now includes a subset of foreground values optimised for use
against the active mode line's background.  The active mode line's
background is accented, meaning that we cannot use colours that are
otherwise decent against the main background.
</p>

<p>
These new entries are meant to style warnings, errors, and other
notifications that appear on the mode line.  They empower us to extend
support for packages that make use of such colour-coding (more further
below).
</p>
</div>
</div>

<div id="outline-container-h:1935e028-10ea-4a3f-adb5-a755c1ddfe2b" class="outline-3">
<h3 id="h:1935e028-10ea-4a3f-adb5-a755c1ddfe2b">"Subtle" accented backgrounds</h3>
<div class="outline-text-3" id="text-h:1935e028-10ea-4a3f-adb5-a755c1ddfe2b">
<p>
Each theme's palette now contains six accented backgrounds that are not
very intense.  These are used by packages that need to (i) highlight a
line or region, (ii) preserve a modicum of legibility without overriding
existing foreground values (more below about new packages).
</p>
</div>
</div>

<div id="outline-container-h:5a1f7bde-658a-4240-bab8-92cb8e5327b0" class="outline-3">
<h3 id="h:5a1f7bde-658a-4240-bab8-92cb8e5327b0">Refined the colour of prompts, where necessary</h3>
<div class="outline-text-3" id="text-h:5a1f7bde-658a-4240-bab8-92cb8e5327b0">
<p>
Each theme's palette now includes a dedicated <code>prompt</code> mapping.  This
gives us full control over what colour we use for prompts.  In some
themes the prompt will look the same as before, though I made a few
changes to have stylistic consistency in each theme.  Specifically:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Theme</th>
<th scope="col" class="org-left">Old prompt</th>
<th scope="col" class="org-left">New prompt</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">ef-deuteranopia-dark</td>
<td class="org-left">cyan-warmer</td>
<td class="org-left">yellow</td>
</tr>

<tr>
<td class="org-left">ef-deuteranopia-light</td>
<td class="org-left">cyan</td>
<td class="org-left">blue</td>
</tr>

<tr>
<td class="org-left">ef-duo-dark</td>
<td class="org-left">green-cooler</td>
<td class="org-left">yellow</td>
</tr>

<tr>
<td class="org-left">ef-duo-light</td>
<td class="org-left">green-cooler</td>
<td class="org-left">blue</td>
</tr>

<tr>
<td class="org-left">ef-spring</td>
<td class="org-left">blue</td>
<td class="org-left">green</td>
</tr>

<tr>
<td class="org-left">ef-summer</td>
<td class="org-left">cyan-cooler</td>
<td class="org-left">magenta-warmer</td>
</tr>

<tr>
<td class="org-left">ef-winter</td>
<td class="org-left">green-cooler</td>
<td class="org-left">magenta-warmer</td>
</tr>
</tbody>
</table>

<p>
In short: we don't want prompts to look blue/green all the time.  Some
themes have a different character.
</p>
</div>
</div>

<div id="outline-container-h:197a98a6-96d3-47ca-935d-6736d3836211" class="outline-3">
<h3 id="h:197a98a6-96d3-47ca-935d-6736d3836211">Newly supported packages</h3>
<div class="outline-text-3" id="text-h:197a98a6-96d3-47ca-935d-6736d3836211">
<p>
In general, if a package does not look right, it is not supported by the
Ef themes.  What we have for this release:
</p>

<dl class="org-dl">
<dt>auctex</dt><dd>Thanks to Philip Kaludercic for providing the sample file
that let me view the relevant faces, as well as for helping me
correct some mistakes of mine:
<a href="https://lists.sr.ht/~protesilaos/ef-themes/%3C87h71t97hl.fsf%40posteo.net%3E">https://lists.sr.ht/~protesilaos/ef-themes/%3C87h71t97hl.fsf%40posteo.net%3E</a>.</dd>

<dt>company</dt><dd>Thanks to Alan Schmitt for reminding me about it:
<a href="https://lists.sr.ht/~protesilaos/ef-themes/%3C87pmgjw3j9.fsf%40m4x.org%3E">https://lists.sr.ht/~protesilaos/ef-themes/%3C87pmgjw3j9.fsf%40m4x.org%3E</a>.</dd>

<dt>dirvish</dt><dd>Thanks to Alex Lu (<code>dirvish</code> developer) for the
contribution.  This was done in pull request 14 at the GitHub mirror:
<a href="https://github.com/protesilaos/ef-themes/pull/14">https://github.com/protesilaos/ef-themes/pull/14</a>.  The change is
below the ~15 line threshold and thus does not require copyright
assignment to the Free Software Foundation.</dd>

<dt>doom-modeline</dt><dd>Expanded support for almost all the faces it
provides.  The only exception is some debugging-related indicators
that I do not know how to trigger (contact me, if you encounter them).
This support is made possible by the new accented foregrounds that are
designed specifically for the mode line.</dd>

<dt>gnus</dt><dd>Expanded support for all the faces it defines.  I had used
Gnus for several months before and am familiar with its interfaces.
Though I never made use of its scoring system.  I think the relevant
faces look okay, though please let me know if we can refine them
further.</dd>

<dt>image-dired</dt><dd>This is made possible by the new "subtle" coloured
backgrounds that I added to each theme.</dd>

<dt>lin (my package)</dt><dd>Made possible by the new subtle backgrounds.</dd>

<dt>pulsar (my package)</dt><dd>Same as above.</dd>

<dt>pulse</dt><dd>Same.</dd>

<dt>recursion-indicator</dt><dd>Same</dd>

<dt>selectrum</dt><dd>Made it look like the already supported <code>vertico</code>.</dd>

<dt>tempel</dt><dd>Same as <code>lin</code> and friends.</dd>
</dl>
</div>
</div>

<div id="outline-container-h:83fa9e74-0460-49b0-a123-15767d07f806" class="outline-3">
<h3 id="h:83fa9e74-0460-49b0-a123-15767d07f806">Refinements to existing faces</h3>
<div class="outline-text-3" id="text-h:83fa9e74-0460-49b0-a123-15767d07f806">
<ul class="org-ul">
<li>Lots of small tweaks affect mode line indicators, per the new
foreground colours I introduced.  Expect to see a bit more colour in
the mode line when using <code>magit</code>, compilation buffers, appointment
reminders, keyboard macros, Org agenda filters, and more.</li>

<li><p>
All the <code>rcirc</code> faces have been revised in the interest of thematic
consistency.
</p>

<ul class="org-ul">
<li>Rcirc uses the new foregrounds for the mode line, where relevant.</li>

<li>Indicators that track/highlight the user's nick use the same
paradigm.</li>

<li>IRC server messages look like comments in code buffers.</li>
</ul>

<p>
Thanks to Philip Kaludercic for telling me about the downsides of
using the <code>italic</code> in the <code>rcirc-nick-in-message-full-line</code> face:
<a href="https://lists.sr.ht/~protesilaos/ef-themes/%3C87edwphahl.fsf%40posteo.net%3E">https://lists.sr.ht/~protesilaos/ef-themes/%3C87edwphahl.fsf%40posteo.net%3E</a>.
</p>

<p>
Please note that I am not a regular/experienced IRC user.  If there
are improvements to be made, I am happy to implement them but will
likely need your help (I will ask the relevant questions).
</p></li>
</ul>
</div>
</div>

<div id="outline-container-h:3399f33c-3d1b-4d18-b50f-8d2f0838aa54" class="outline-3">
<h3 id="h:3399f33c-3d1b-4d18-b50f-8d2f0838aa54">New fallback behaviour for <code>ef-themes-toggle</code></h3>
<div class="outline-text-3" id="text-h:3399f33c-3d1b-4d18-b50f-8d2f0838aa54">
<p>
The command <code>ef-themes-toggle</code> will switch between two themes specified
in the user option <code>ef-themes-to-toggle</code>.  For example:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">;; Toggle between `ef-summer' and `ef-winter' using `ef-themes-toggle'.
(setq ef-themes-to-toggle '(ef-summer ef-winter))
</pre>
</div>

<p>
By default, <code>ef-themes-to-toggle</code> is nil. In the past, this meant that
<code>ef-themes-toggle</code> would do nothing out-of-the-box.  To improve the
initial user experience, the command will now fall back to minibuffer
completion to load a theme if <code>ef-themes-to-toggle</code> does not have the
expected value.  The completion candidates are the items of the Ef
themes collection.  This fallback behaviour is essentially the same as
what the user gets by invoking the <code>ef-themes-select</code> command.
</p>

<p>
When <code>ef-themes-to-toggle</code> is set properly, the corresponding command
will perform the switch, as intended.
</p>

<p>
This is based on the discussion with Philip Kaludercic about revising
the <code>ef-themes-toggle</code> command to have a more Do-What-I-Mean behaviour:
<a href="https://lists.sr.ht/~protesilaos/ef-themes/%3C878rmwfs0e.fsf%40posteo.net%3E">https://lists.sr.ht/~protesilaos/ef-themes/%3C878rmwfs0e.fsf%40posteo.net%3E</a>.
</p>
</div>
</div>

<div id="outline-container-h:4407d5a6-b837-4168-88b2-f7b175978122" class="outline-3">
<h3 id="h:4407d5a6-b837-4168-88b2-f7b175978122">Improved how <code>ef-themes-load-random</code> picks subsets</h3>
<div class="outline-text-3" id="text-h:4407d5a6-b837-4168-88b2-f7b175978122">
<p>
The <code>ef-themes-load-random</code> command accepts a prefix argument (<code>C-u</code>, by
default): it prompts the user for a <code>dark</code> or <code>light</code> subset out of the
collection.  Once that is selected, the command loads a theme at random.
</p>

<p>
Before, the prompt was using minibuffer completion, but this has now
changed to a <code>read-multiple-choice</code> function, meaning that <code>d</code> selects
<code>dark</code> and <code>l</code> selects <code>light</code>.  Basically, we skip possible extra key
presses.
</p>

<p>
Thanks to Philip Kaludercic for the patch:
<a href="https://lists.sr.ht/~protesilaos/ef-themes/patches/35089">https://lists.sr.ht/~protesilaos/ef-themes/patches/35089</a>.
</p>
</div>
</div>

<div id="outline-container-h:b9156099-0bcd-4974-9cdf-ada73d5745ce" class="outline-3">
<h3 id="h:b9156099-0bcd-4974-9cdf-ada73d5745ce">Internal changes</h3>
<div class="outline-text-3" id="text-h:b9156099-0bcd-4974-9cdf-ada73d5745ce">
<ul class="org-ul">
<li>Fixed the initial colors' list in the <code>ef-themes-with-colors</code> macro.
Thanks to Steve Molitor for telling me that the previous design would
not work if <code>ef-light</code> was not loaded.  This was done in issue 11 at
the GitHub mirror:
<a href="https://github.com/protesilaos/ef-themes/issues/11">https://github.com/protesilaos/ef-themes/issues/11</a>.</li>

<li>Simplified the helper function <code>ef-themes--current-theme</code>.  Thanks to
Jonas Collberg for the feedback in issue 12 over at the GitHub mirror:
<a href="https://github.com/protesilaos/ef-themes/issues/12">https://github.com/protesilaos/ef-themes/issues/12</a>.  Also thanks to
Jonas for the subsequent patch in pull request 13:
<a href="https://github.com/protesilaos/ef-themes/pull/13">https://github.com/protesilaos/ef-themes/pull/13</a>.  The change is
below the ~15 line threshold and thus does not require copyright
assignment to the Free Software Foundation.</li>

<li><p>
Refined the colour mapping of some themes to improve overall
aesthetics and/or usability, without deviating from the theme's
established character.  For example, in the <code>ef-dark</code> I adjusted the
mappings for dates, links, and names.  This helps distinguish all
elements, while retaining the overall looks of the design.  Some
contexts where that is relevant:
</p>

<ul class="org-ul">
<li>Notmuch search buffers</li>
<li>Magit commit log</li>
<li>Org clocktables</li>
<li>Org documents with links, to-do, etc.</li>
</ul>

<p>
I will not cover all such technicalities.  Please consult the Git
commit log.  If, however, some new combination of colours feels
awkward, you are welcome to tell me about it.
</p></li>

<li>Made improvements to the manual and implemented other internal
changes.</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-h:cc22cc5a-d787-4335-abf0-aa45cef92721" class="outline-2">
<h2 id="h:cc22cc5a-d787-4335-abf0-aa45cef92721">Version 0.4.0 on 2022-08-29</h2>
<div class="outline-text-2" id="text-h:cc22cc5a-d787-4335-abf0-aa45cef92721">
</div>

<div id="outline-container-h:f94f8637-73c8-4e43-bc70-c17c42e76ad6" class="outline-3">
<h3 id="h:f94f8637-73c8-4e43-bc70-c17c42e76ad6">New deuteranopia-friendly themes</h3>
<div class="outline-text-3" id="text-h:f94f8637-73c8-4e43-bc70-c17c42e76ad6">
<p>
Designed two bespoke themes for users with red-green colour deficiency
or blindness (deuteranopia).  They rely on blue and yellow hues.  Their
names are:
</p>

<ul class="org-ul">
<li><code>ef-deuteranopia-dark</code></li>
<li><code>ef-deuteranopia-light</code></li>
</ul>

<p>
Announcement with sample pictures:
<a href="https://protesilaos.com/codelog/2022-08-19-ef-themes-deuteranopia/">https://protesilaos.com/codelog/2022-08-19-ef-themes-deuteranopia/</a>.
</p>
</div>
</div>

<div id="outline-container-h:3dc43b00-843b-4827-b7cd-f381de619433" class="outline-3">
<h3 id="h:3dc43b00-843b-4827-b7cd-f381de619433">User options</h3>
<div class="outline-text-3" id="text-h:3dc43b00-843b-4827-b7cd-f381de619433">
<ul class="org-ul">
<li>Introduced the variable <code>ef-themes-mixed-fonts</code>.  When it is set to a
non-nil (<code>t</code>) value, it makes spacing-sensitive elements use a
monospaced font.  For example, Org tables and code blocks will always
look properly aligned.  This is useful for those who either use a
proportionately spaced font as their default or enable the built-in
<code>variable-pitch-mode</code>.</li>

<li>Implemented the variable <code>ef-themes-variable-pitch-ui</code>.  When it is
set to a non-nil (<code>t</code>) value, it renders the mode-line, tab-bar-mode,
and tab-line-mode in a proportionately spaced font.</li>
</ul>

<p>
User options must be set before the theme is loaded.  If an option
changes, its value will be read upon a theme re-load.
</p>

<p>
For font configurations, refer to my <code>fontaine</code> package.
</p>
</div>
</div>

<div id="outline-container-h:c1d351ca-1802-44b1-b43f-f9d5f7ba95d9" class="outline-3">
<h3 id="h:c1d351ca-1802-44b1-b43f-f9d5f7ba95d9">Newly supported packages</h3>
<div class="outline-text-3" id="text-h:c1d351ca-1802-44b1-b43f-f9d5f7ba95d9">
<p>
Built into Emacs:
</p>

<ul class="org-ul">
<li>eww</li>
<li>shell-script-mode (sh-mode)</li>
<li>shr</li>
</ul>

<p>
External packages:
</p>

<ul class="org-ul">
<li>consult</li>
<li>embark</li>
</ul>
</div>
</div>

<div id="outline-container-h:582dea7b-454a-4500-871b-4ec45e875274" class="outline-3">
<h3 id="h:582dea7b-454a-4500-871b-4ec45e875274">Refinements to faces</h3>
<div class="outline-text-3" id="text-h:582dea7b-454a-4500-871b-4ec45e875274">
<ul class="org-ul">
<li>Fixed the scaling of current line of <code>display-line-numbers-mode</code> when
<code>text-scale-adjust</code> was invoked.  Basically I forgot to include the
<code>line-number</code> face, while all others were covered.  Thanks to Anthony
Chavez for the feedback in issue 7 over at the GitHub mirror:
<a href="https://github.com/protesilaos/denote/issues/7">https://github.com/protesilaos/denote/issues/7</a>.</li>

<li>Covered all faces that define group titles in completion contexts.
These are headings which are used by various commands, such as
<code>consult-buffer</code>, <code>consult-imenu</code>, and <code>consult-grep</code>.  As they denote
a group name, we apply the <code>name</code> colour mapping (the hue differs for
each theme).  And since they are titles, we inherit from <code>bold</code> to
make them look like headings.  Thanks to Summer Emacs for the feedback
which amounted to:

<ol class="org-ol">
<li>Treating group titles as headings.</li>
<li>Using a more consistent colour theme-wide.</li>
</ol></li>

<li>Revised the <code>compilation-info</code> face from a colour-coded "success" face
to a value that is consistent with the semantics of its application in
file names or related (as seen in the emacs.git repository).  For
example, file names in Grep or Xref buffers will now look like they
belong to the theme, whereas before they were predominantly green,
even when that did not make sense.  This point is connected to the
above, such as in workflows that go from the minibuffer to a Grep
buffer (e.g. with the use of the <code>embark</code> package).</li>

<li>Toned down the vertical border between windows by explicitly
supporting the <code>vertical-border</code> face.  The previous design would use
the main foreground which generally led to a disproportionately
intense result.</li>

<li><p>
Adjusted all spacing-sensitive faces to accommodate the user option
<code>ef-themes-mixed-fonts</code>, as noted above.  Also thanks to Christopher
League for spotting that I had missed the <code>line-number</code> face and for
providing the relevant patch (I do the same in the <code>modus-themes</code>):
<a href="https://lists.sr.ht/~protesilaos/ef-themes/%3C871qt2x4wi.fsf%40nita.mail-host-address-is-not-set%3E">https://lists.sr.ht/~protesilaos/ef-themes/%3C871qt2x4wi.fsf%40nita.mail-host-address-is-not-set%3E</a>
</p>

<p>
The patch is well below the ~15 line threshold and thus does not
require copyright assignment to the Free Software Foundation.
</p></li>

<li>Enforced mono spacing for the <code>org-indent</code> face.  This is essential
for <code>org-indent-mode</code> to align entries correctly.  Thanks to Steve
Molitor for reporting this in the issue 9 over at the GitHub mirror:
<a href="https://github.com/protesilaos/ef-themes/issues/9">https://github.com/protesilaos/ef-themes/issues/9</a>.  Steve tested a
sample file with <code>modus-vivendi</code> and got the desired results.  It
reminded me how I handle this face in the <code>modus-themes</code>.</li>

<li>Added explicit support for the <code>bold</code> and <code>italic</code> faces.  The default
definition of <code>italic</code> has conditionality which we do not want, such
as drawing an underline if the font does not have italics (e.g. Fira
Code).  Styling it at the theme level prevents that from happening:
the font without italics will simply use the upright/roman glyphs.
Adding <code>bold</code> is just for clarity.  Its default definition is fine.</li>

<li>Made the tabs of the built-in <code>tab-bar-mode</code> and <code>tab-line-mode</code> stand
out more.  The difference between the current tab and the rest was too
subtle.  Depending on the lighting conditions, their respective
backgrounds were indistinguishable.  Thanks to Summer Emacs for
reporting this issue and for helping me decide on the final design.</li>

<li>Applied tinted backgrounds to values and arguments in transient.el
buffers (e.g. Magit).  They now stand out better.</li>
</ul>
</div>
</div>

<div id="outline-container-h:5549f628-390d-478c-b8d3-a0b068f3f1e0" class="outline-3">
<h3 id="h:5549f628-390d-478c-b8d3-a0b068f3f1e0">Documentation</h3>
<div class="outline-text-3" id="text-h:5549f628-390d-478c-b8d3-a0b068f3f1e0">
<ul class="org-ul">
<li>Created a page with screenshots of all the Ef themes:
<a href="https://protesilaos.com/emacs/ef-themes-pictures">https://protesilaos.com/emacs/ef-themes-pictures</a>.</li>

<li><p>
Answered the Frequently Asked Question of letting Org tags inherit the
foreground colour of the heading they belong to.  The gist (though
note that the entry also mentions the option for the non-alignment of
tags):
</p>

<blockquote>
<p>
Upstream Org defines tags in headings to have the same color as the rest
of the heading's text.  However, tags are a distinct component of the
heading as noted in the doc string of the <code>org-get-heading</code> function.
Tags also are functionally different than the ordinary text of the
heading: they are a clickable link/button.  It thus is a matter of
usability to render this distinction clear at the visual level: I do not
agree with upstream Org's design decision.
</p>
</blockquote></li>

<li>Addressed another Frequently Asked Question on whether we can have
Ef-style themes inspired by the Nord or Zenburn themes.  The short
version is that this is technically difficult and undesirable.  Each
palette in the Ef themes collection is original and is designed around
the normative and aesthetic principles of this project.</li>

<li>Wrote an entire section on Do-It-Yourself customisations.  These
generally are for advanced users, though the manual provides concrete
examples of using the <code>ef-themes-with-colors</code> macro in tandem with the
<code>ef-themes-post-load-hook</code>.</li>

<li><p>
Elaborated on the list of packages that I will most likely NOT support
in the Ef themes.  The reasons vary though.  Quote:
</p>

<blockquote>
<p>
These are difficult to support due to their (i) incompatibility with
the design of the <code>ef-themes</code>, (ii) complexity or multiple points of
entry, (iii) external dependencies, (iv) existence of better
alternatives in my opinion, or (v) inconsiderate use of color
out-of-the-box and implicit unwillingness to be good Emacs citizens
</p>
</blockquote>

<p>
If a certain package does not look right, then it is not supported
(yet).
</p></li>
</ul>

<p>
The manual can be read from Emacs, if the <code>ef-themes</code> package is
installed.  Evaluate:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(info "(ef-themes) Top")
</pre>
</div>

<p>
Else visit: <a href="https://protesilaos.com/emacs/ef-themes">https://protesilaos.com/emacs/ef-themes</a>.
</p>
</div>
</div>

<div id="outline-container-h:4013a8aa-d2ff-45a1-95db-edd140e31cb1" class="outline-3">
<h3 id="h:4013a8aa-d2ff-45a1-95db-edd140e31cb1">Internal refinements</h3>
<div class="outline-text-3" id="text-h:4013a8aa-d2ff-45a1-95db-edd140e31cb1">
<ul class="org-ul">
<li>Recalibrated diff colours or the context of diff buffers, especially
in Magit, to improve usability.</li>

<li>Adjusted or otherwise tweaked the hues that apply to key bindings and
links in order to reinforce the stylistic consistency of each theme.</li>

<li>Introduced a yellow-tinted background which is used in various
contexts that (i) should be styled with a coloured background but (ii)
should not be colour-coded as either red or green/blue.</li>

<li>Made the <code>ef-themes-with-colors</code> macro always reify the current Ef
theme's palette.  This macro is for advanced users.  Its utility is
documented in the themes' manual.</li>

<li>Fixed how themes become "known" at startup.  Before, they were not
registered correctly for immediate use with the <code>ef-themes-select</code>
command.  Thanks to Jean-Philippe Gagné Guay for the feedback in issue
6 over at the GitHub mirror: <a href="https://github.com/protesilaos/denote/issues/6">https://github.com/protesilaos/denote/issues/6</a>.</li>

<li>Tweaked some face attributes to work with Emacs 27.</li>

<li>Tinkered with the colour mapping or precise values of practically all
the themes.  Better consult the Git log for the minutiae.  I think the
identity of each theme is largely defined, though there may still be
tweaks to be done here and there until we eventually reach version
<code>1.0.0</code>.</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-h:f91c2c29-cc5b-4cf3-a322-f3a286a17e8c" class="outline-2">
<h2 id="h:f91c2c29-cc5b-4cf3-a322-f3a286a17e8c">Version 0.3.0 on 2022-08-20</h2>
<div class="outline-text-2" id="text-h:f91c2c29-cc5b-4cf3-a322-f3a286a17e8c">
</div>

<div id="outline-container-h:691f108f-7a92-47a9-a3a3-89c31916d8c8" class="outline-3">
<h3 id="h:691f108f-7a92-47a9-a3a3-89c31916d8c8">User-facing changes</h3>
<div class="outline-text-3" id="text-h:691f108f-7a92-47a9-a3a3-89c31916d8c8">
<ul class="org-ul">
<li><p>
Revised the minimum Emacs version of the <code>ef-themes</code> package.  It now
depends on Emacs 27.1 instead of Emacs 28.1.  Relevant internal
adjustments were made, some of which are courtesy of Philip
Kaludercic: <a href="https://lists.sr.ht/~protesilaos/ef-themes/patches/34787">https://lists.sr.ht/~protesilaos/ef-themes/patches/34787</a>.
</p>

<p>
[ Philip has assigned copyright to the Free Software Foundation.  This
  is necessary for all non-trivial patches. ]
</p></li>

<li>Added two new themes to the collection which are designed for users
with red-green colour deficiency/blindness (deuteranopia).  In simple
terms, their effective palette consists of blue, yellow, and the base
tones.  The themes are named descriptively: <code>ef-deuteranopia-dark</code> and
<code>ef-deuteranopia-light</code>.  Announcement with screenshots:
<a href="https://protesilaos.com/codelog/2022-08-19-ef-themes-deuteranopia/">https://protesilaos.com/codelog/2022-08-19-ef-themes-deuteranopia/</a>.</li>

<li>Reconsidered the principle of what kind of user options are
acceptable.  Those which affect colours directly will never be a part
of the project.  Others are subject to consideration with a preference
for simplicity.  Detailed documentation to do-it-yourself will still
be preferred over user options.</li>

<li><p>
Implemented the <code>ef-themes-headings</code> user option which provides the
mechanism to change the weight and height of each heading level, as
well as set it to <code>variable-pitch</code> (i.e. a proportionately spaced
font).  The doc string of that variable or the relevant entry in the
manual explain the particularities and provided code samples.
</p>

<p>
To accommodate this variable, the default style of all headings has
been revised to remove the added height they once had.  Users who
preferred the previous style must add the following to their
configuration BEFORE the code that actually loads the theme (e.g. a
<code>load-theme</code> call):
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">  ;; Restore height of each heading level to its previous value.
  (setq ef-themes-headings
        '((0 . (1.9))
          (1 . (1.8))
          (2 . (1.7))
          (3 . (1.6))
          (4 . (1.5))
          (5 . (1.4))
          (6 . (1.3))
          (7 . (1.2))
          (t . (1.1))))

  ;; First set the above configuration, then load the theme (changes to
  ;; user options require a theme re-load).
  (load-theme 'ef-summer :no-confirm)
</pre>
</div></li>

<li><p>
Introduced the command <code>ef-themes-toggle</code> and the companion user
option <code>ef-themes-to-toggle</code>.  To use the command, one must first set
their two preferred Ef themes, such as with this:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">  (setq ef-themes-to-toggle '(ef-summer ef-winter))
</pre>
</div>

<p>
The names of all the themes are included in the <code>ef-themes-collection</code>
variable.  Though recall that the commands <code>ef-themes-select</code> and
<code>ef-themes-load-random</code> still use the entire collection (read their
doc strings or consult the manual).
</p></li>

<li>Fixed how themes are made available at startup.  Before, there was a
mistake to how items were registered as "known" and were thus not
recognised by our commands, even though the standard <code>load-theme</code>
worked as expected.  Thanks to Iris Garcia for reporting the problem
in issue 2 on the GitHub mirror:
<a href="https://github.com/protesilaos/ef-themes/issues/2">https://github.com/protesilaos/ef-themes/issues/2</a>.  It was
propagated to users as version 0.2.1 of the <code>ef-themes</code>.</li>

<li><p>
Added support for these packages:
</p>

<ul class="org-ul">
<li>chart</li>
<li>doom-modeline (tentative)</li>
<li>info</li>
<li>org-habit</li>
<li>rcirc</li>
<li>smerge</li>
</ul>

<p>
Thanks to Spike-Leung for reminding me about <code>org-habit</code> in issue 5
over at the GitHub mirror:
<a href="https://github.com/protesilaos/ef-themes/issues/5">https://github.com/protesilaos/ef-themes/issues/5</a>.
</p>

<p>
[ Remember that if a package looks awfully out of place, it is not
  support (yet). ]
</p></li>

<li><p>
Expanded and/or clarified the manual, including an answer to the
question of what "Ef" means:
</p>

<blockquote>
<p>
"Ef" is a Greek word (ευ), commonly used as a prefix to denote that
something is good, nice, and/or easy.  For example, eftopia (ευτοπία)
is the opposite of dystopia (δυστοπία): a good place as opposed to a
bad place.
</p>
</blockquote></li>

<li>Helped Adam Sherwood figure out why zsh-autosuggestions did not look
right.  In short: this has nothing to do with Emacs.  Try to avoid
termcolor{0,7,8,15} as a default.  Prefer the remaining nominal accent
colours, as every theme is more likely to work with those, whereas,
say, termcolor0 ("black") will not be legible with dark themes.  This
was done in issue 3 on the GitHub mirror:
<a href="https://github.com/protesilaos/ef-themes/issues/3">https://github.com/protesilaos/ef-themes/issues/3</a>.</li>
</ul>
</div>
</div>

<div id="outline-container-h:bf3fcbee-9057-497a-8258-2ef8029a3459" class="outline-3">
<h3 id="h:bf3fcbee-9057-497a-8258-2ef8029a3459">Internal refinements</h3>
<div class="outline-text-3" id="text-h:bf3fcbee-9057-497a-8258-2ef8029a3459">
<ul class="org-ul">
<li>Recalibrated lots of colour values and mappings across several themes.
The changes are small and help with the internal consistency of each
theme.  Consult the Git commit log for the minutiae.</li>

<li>The internal faces for headings are now done with a <code>dotimes</code> call on
<code>custom-declare-face</code> instead of a bespoke macro.  Thanks to Philip
Kaludercic for the patch:
<a href="https://lists.sr.ht/~protesilaos/ef-themes/patches/34791">https://lists.sr.ht/~protesilaos/ef-themes/patches/34791</a>.</li>

<li>Applied <code>file-equal-p</code> for the registration of the themes in the
relevant path.  Doing so is generally more resilient than <code>equal</code> and
might avoid an unexpected edge case in the future.  Thanks to Philip
Kaludercic for the patch:
<a href="https://lists.sr.ht/~protesilaos/ef-themes/patches/34789">https://lists.sr.ht/~protesilaos/ef-themes/patches/34789</a>.</li>

<li>Opted for <code>{if,when}-let*</code> over <code>{if,when}-let</code>.  The former do not
support the obsolete single-binding syntax, and make clear that both
macros operate more like <code>let*</code> than <code>let</code> by evaluating and binding
variables sequentially.  Thanks to Philip Kaludercic for the patch:
<a href="https://lists.sr.ht/~protesilaos/ef-themes/patches/34787">https://lists.sr.ht/~protesilaos/ef-themes/patches/34787</a>.</li>
</ul>
</div>
</div>

<div id="outline-container-h:f7b55da3-a848-463c-ab71-aa044ee7a8dd" class="outline-3">
<h3 id="h:f7b55da3-a848-463c-ab71-aa044ee7a8dd">Acknowledgement for the first version of the project</h3>
<div class="outline-text-3" id="text-h:f7b55da3-a848-463c-ab71-aa044ee7a8dd">
<p>
Thanks to user Summer Emacs whose feedback helped define the identity of
the <code>ef-summer</code> theme.  Summer's comments pertained to the need to
increase the occurence of yellow as the theme used to be predominantly
magenta and purple.  I thus implemented the revised colour mapping and
made the relevant adjustments.  Without Summer's comments, <code>ef-summer</code>
wouldn't have been as pretty.
</p>
</div>
</div>
</div>

<div id="outline-container-h:1e875631-853a-4bd1-9a33-ff4e51fe7614" class="outline-2">
<h2 id="h:1e875631-853a-4bd1-9a33-ff4e51fe7614">Version 0.2.0 on 2022-08-18</h2>
<div class="outline-text-2" id="text-h:1e875631-853a-4bd1-9a33-ff4e51fe7614">
<p>
[ Added after the fact on 2022-08-20 ]
</p>

<p>
No release notes were produced at the time.  This version included
various stylistic refinements and added commands for (i) loading a theme
and (ii) previewing a theme's colour palette.
</p>

<p>
The commands which load a theme call the <code>ef-themes-post-load-hook</code>.
Advanced and/or do-it-yourself users may have a use for it.  The manual
will eventually provide specific code samples.
</p>
</div>
</div>

<div id="outline-container-h:fb284e98-ec9c-434d-9e9a-1773300d2fb6" class="outline-2">
<h2 id="h:fb284e98-ec9c-434d-9e9a-1773300d2fb6">Version 0.1.0 on 2022-08-17</h2>
<div class="outline-text-2" id="text-h:fb284e98-ec9c-434d-9e9a-1773300d2fb6">
<p>
[ Added after the fact on 2022-08-20 ]
</p>

<p>
There were no release notes for it.  It established the foundations of
the project: the main macros, the character of each theme, etc.  Check
the Git commit log for more.
</p>
</div>
</div>
